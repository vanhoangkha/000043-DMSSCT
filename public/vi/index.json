[
{
	"uri": "/vi/6-troubleshooting/6.1-memorypressure/",
	"title": "Áp lực bộ nhớ lên DMS Instance",
	"tags": [],
	"description": "",
	"content": "Trong phòng thí nghiệm này, chúng ta sẽ khắc phục sự cố lỗi tác vụ DMS do áp lực bộ nhớ trên phiên bản sao chép.\nTrước khi đi vào tạo kịch bản này, chúng ta hãy tóm tắt lại cách DMS hoạt động bên trong.\nĐể thực hiện di chuyển cơ sở dữ liệu, AWS DMS kết nối với kho dữ liệu nguồn, đọc dữ liệu nguồn và định dạng dữ liệu để kho dữ liệu đích sử dụng. Sau đó, nó tải dữ liệu vào kho dữ liệu đích. Hầu hết quá trình xử lý này diễn ra trong bộ nhớ của phiên bản sao chép DMS. Mặc dù các giao dịch lớn có thể yêu cầu một số bộ đệm vào đĩa. Các giao dịch được lưu trong bộ nhớ đệm và tệp nhật ký cũng được ghi vào đĩa.\nTuy nhiên, nếu quá trình di chuyển gây quá nhiều tải cho phiên bản sao chép DMS, trong một số trường hợp, nó có thể tạo áp lực bộ nhớ lên phiên bản và có thể dẫn đến lỗi tác vụ. Nếu bạn chạy nhiều hơn một tác vụ DMS, những lỗi này có thể xảy ra ở nhiều tác vụ, nếu không phải trên tất cả.\nChúng ta hãy tiếp tục và tạo kịch bản trong phần tiếp theo.\n"
},
{
	"uri": "/vi/1-start/",
	"title": "Bắt đầu",
	"tags": [],
	"description": "",
	"content": "Nếu bạn đang sử dụng tài khoản AWS của riêng mình hoặc được nhân viên AWS khuyên cấu hình môi trường workshop, bạn cần thiết lập một số tài nguyên trên AWS mà chúng ta sẽ sử dụng để thực hiện di chuyển. Phần này mô tả các bước cung cấp tài nguyên AWS cần thiết cho hướng dẫn di chuyển cơ sở dữ liệu này.\nChúng ta sử dụng AWS CloudFormation để đơn giản hóa việc cung cấp cơ sở hạ tầng, từ đó hướng sự tập trung vào các tác vụ liên quan đến dịch chuyển dữ liệu.\nTệp mẫu CloudFormation sẽ tạo một cấu trúc mạng cơ bản bao gồm Amazon Virtual Private Cloud (Amazon VPC) với 3 mạng con công khai để triển khai một máy AWS Database Migration Service (AWS DMS) cũng như một máy Amazon Relational Database Service (Amazon RDS) cho cơ sở dữ liệu đích. Ngoài ra, kiến trúc cũng bao gồm một máy Amazon Elastic Compute Cloud (EC2) để lưu trữ các công cụ chúng ta sẽ sử dụng trong quá trình di chuyển này, bao gồm AWS Schema Conversion Tool (AWS SCT). Tương tự, trong workshop di chuyển Microsoft SQL Server, chúng ta sử dụng phiên bản EC2 này để mô phỏng cơ sở dữ liệu nguồn của mình.\n"
},
{
	"uri": "/vi/5-monitoring/5.1-cloudwatchmetrics/",
	"title": "Các số liệu trên CloudWatch",
	"tags": [],
	"description": "",
	"content": "AWS DMS cung cấp cho bạn khả năng giám sát hiệu suất của quá trình di chuyển DMS thông qua số liệu CloudWatch. Có nhiều số liệu khác nhau có sẵn ở mức độ tác vụ \u0026amp; máy sao chép.\nSố liệu CloudWatch cho trình sao chép chép DMS có thể hữu ích trong việc xác định mức tiêu thụ tài nguyên trên trình sao chép chép DMS. Mức sử dụng CPU, Bộ nhớ có thể giải phóng, Không gian lưu trữ trống, v.v. là một số số liệu chính mà bạn có thể muốn theo dõi. Số liệu CloudWatch cho các tác vụ DMS có thể hữu ích trong việc xác định hiệu suất. DMS cung cấp các số liệu khác nhau cho Tải đầy đủ, CDC, Xác thực \u0026amp; Tác động đến trình sao chép chép. Vui lòng tham khảo tài liệu Giám sát AWS DMS để biết chi tiết về từng số liệu.\nĐể xem số liệu CloudWatch cho trình sao chép chép DMS, hãy truy cập Bảng điều khiển AWS DMS và nhấp vào Replication instances ở cột bên trái. Chọn trình sao chép chép rồi điều hướng đến tab CloudWatch metrics.\nĐể xem số liệu CloudWatch cho các tác vụ DMS, hãy truy cập Bảng điều khiển AWS DMS và nhấp vào Database Migration Task ở cột bên trái. Nhấp vào tác vụ DMS của bạn từ danh sách các tác vụ.\nKhi bạn vào trang DMS task, hãy điều hướng đến tab CloudWatch metrics.\nTiếp theo, chúng ta sẽ tìm hiểu về các sự kiện AWS DMS và cách thiết lập thông báo cho các sự kiện đó.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.1-schemaconv/3.1.1-configmysql/",
	"title": "Cấp quyền trong CSDL đich",
	"tags": [],
	"description": "",
	"content": "\rPhần này chỉ dành cho CSDL đích Aurora (tương thích với MySQL). Nếu bạn đang di chuyển đến CSDL đích khác, bạn có thể bỏ qua trang này.\nMở phần này nếu lược đồ đích của bạn là Aurora MySQL\rMở MySQL Workbench 8.0 CE từ bên trong máy chủ EC2 và tạo kết nối cơ sở dữ liệu mới cho cơ sở dữ liệu Aurora mục tiêu bằng các giá trị sau. Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần vào Secrets Manager và mở DMSDBSecret và hiển thị mật khẩu SQL Server. Nó cũng nằm trên tab đầu ra của Cloudformation Stack đầu tiên trong mật khẩu SQL Server (đúng là mysql nhưng mật khẩu giống nhau cho sql server \u0026amp; mysql trong trường hợp này):\nTham số Giá trị Connection Name Target Aurora RDS (MySQL) Host Name - bạn có thể tìm thấy điều này trên Cloudformation \u0026gt; cfn \u0026gt; tab Output hoặc bạn có thể vào RDS trong bảng điều khiển AWS và tìm máy Aurora MySQL Target của bạn Port 3306 Username dbadmin Password (Nhấn enter sau khi nhấp Test Connection) Xem tab Cloudformation Output \u0026gt; DMSDBSecretP hoặc tra cứu trong AWS Secrets Manager cho SQL Server Default Schema Để trống Nhấp vào nút Test Connection (Kiểm tra kết nối) và nhập mật khẩu. Sau khi bạn nhận được thông báo “Successfully made the MySQL connection”, hãy nhấp vào OK.\nNhấp vào CSDL đích Aurora RDS (MySQL) từ danh sách Kết nối MySQL trong SQL Workbench để kết nối với cơ sở dữ liệu đích.\nSao chép các câu lệnh SQL cấp quyền sau và thực thi chúng trong công cụ workbench (Biểu tượng ánh sáng là biểu tượng thực thi/chạy).\nGRANT CREATE ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT ALTER ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT DROP ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT INDEX ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT REFERENCES ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT SELECT ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT CREATE VIEW ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT SHOW VIEW ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT TRIGGER ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT CREATE ROUTINE ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT ALTER ROUTINE ON *.* TO \u0026#39;dbadmin\u0026#39;; GRANT EXECUTE ON *.* TO \u0026#39;dbadmin\u0026#39;; -- only for MySQL \u0026lt;8.0 GRANT SELECT ON mysql.proc TO \u0026#39;awssct\u0026#39;; GRANT INSERT, UPDATE ON AWS_SQLSERVER_EXT.* TO \u0026#39;dbadmin\u0026#39;; GRANT INSERT, UPDATE, DELETE ON AWS_SQLSERVER_EXT_DATA.* TO \u0026#39;dbadmin\u0026#39;; GRANT CREATE TEMPORARY TABLES ON AWS_SQLSERVER_EXT_DATA.* TO \u0026#39;dbadmin\u0026#39;; GRANT CREATE TEMPORARY TABLES ON *.* TO \u0026#39;dbadmin\u0026#39;; -- MySQL \u0026lt;8 code GRANT INVOKE LAMBDA ON *.* TO \u0026#39;awssct\u0026#39;; GRANT AWS_LAMBDA_ACCESS TO \u0026#39;dbadmin\u0026#39;; GRANT INSERT, UPDATE ON AWS_ORACLE_EXT.* TO \u0026#39;dbadmin\u0026#39;; GRANT INSERT, UPDATE, DELETE ON AWS_ORACLE_EXT_DATA.* TO \u0026#39;dbadmin\u0026#39;; grant INSERT ON aws_sqlserver_ext.* to \u0026#39;dbadmin\u0026#39;; grant UPDATE ON aws_sqlserver_ext.* to \u0026#39;dbadmin\u0026#39;; Sau khi thực hiện, đầu ra sẽ trông giống như hình ảnh bên dưới. Chúng tôi khuyên bạn nên giữ MySQL workbench mở vì bạn sẽ quay lại sau trong phần DMS.\nBây giờ bạn có thể thay đổi phiên bản EC2 mà bạn đã chuyển sang RDP trở lại công cụ chuyển đổi Schema và nhấp vào Tiếp theo bên dưới.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.1-configtarget/a-rds-mssql/",
	"title": "Cấu hình cơ sở dữ liệu đích (RDS Microsoft SQL Server)",
	"tags": [],
	"description": "",
	"content": "\rHướng dẫn này chỉ dành cho việc di chuyển đến mục tiêu RDS Microsoft SQL Server. Nếu cơ sở dữ liệu đichs sử dụng lược đồ khác, bạn có thể bỏ qua trang này.\nBây giờ, trên phiên bản EC2 mà chúng ta đã kết nối qua RDP, chúng ta sẽ kết nối với cơ sở dữ liệu mục tiêu SQL Server RDS. Trong SQL Server Management Studio, chọn SQL Server Authentication và kết nối với phiên bản SQL Server RDS bằng các tham số sau. Lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần vào Secrets Manager và mở DMSDBSecret và hiển thị mật khẩu SQL Server. Nó cũng nằm trên tab Output của Cloudformation Stack đầu tiên bên dưới mật khẩu SQL Server.\nĐiền các thông tin sau vào các vị trí tương ứng trên màn hình đăng nhập:\nParameter Value Server Type Database Engine Server Name \u0026lt; TargetSQLServerEndpoint (you can find this in Cloudformation Output tab or goto RDS service in console and pick your RDS SQL Server instance\u0026gt; Login dbadmin Password See Cloudformation Output tab \u0026amp; see value in DMSDBSecretP or look up password in AWS Secrets Manager for secret ending in RDSDBSecret Remeber Password check box checked Mở cửa sổ New Query nếu nó chưa tự động mở.\nChạy tệp kịch bản sau để tạo CSDL đích dms_sample_target trên RDS SQL Server.\nuse master GO CREATE DATABASE dms_sample_target GO Cơ sở dữ liệu đích (dms_sample_target) hiện đã được tạo. Bạn có thể quay lại AWS Management Console.\n"
},
{
	"uri": "/vi/",
	"title": "Chuyển đổi lược đồ và di dời CSDL",
	"tags": [],
	"description": "",
	"content": "Chuyển đổi lược đồ và di dời CSDL Chuyển đổi lược đồ Chuyển đổi lược đồ (schema) của cơ sở dữ liệu (CSDL) và các đối tượng mã nguốn thường là thao tác tốn nhiều thời gian nhất trong quá trình dịch chuyển các cơ sở dữ liệu không đồng nhất. Chuyển đổi lược đồ đúng cách được xem là một cột mốc quan trọng trong quá trình dịch chuyển CSDL. Công cụ chuyển đổi lược đồ AWS (SCT) là một ứng dụng dễ sử dụng mà bạn có thể cài đặt trên máy tính cục bộ hoặc phiên bản Amazon EC2. Tại ReInvent 2023, AWS cũng đã thêm giao diện bảng điều khiển web cho phần Chuyển đổi và di chuyển của dịch vụ DMS. Trong tương lai, chúng ta sẽ dần chuyển sang trải nghiệm trong bảng điều khiển.\nSCT và Chuyển đổi \u0026amp; Di chuyển trong bảng điều khiển đều giúp đơn giản hóa quá trình di chuyển cơ sở dữ liệu không đồng nhất bằng cách kiểm tra lược đồ cơ sở dữ liệu nguồn và tự động chuyển đổi phần lớn các đối tượng mã cơ sở dữ liệu, bao gồm các dạng xem cũng như các quy trình và hàm được lưu trữ, sang định dạng tương thích với cơ sở dữ liệu đích. Bất kỳ đối tượng nào SCT không thể tự động chuyển đổi sẽ được đánh dấu bằng thông tin chi tiết. Từ đó bạn có thể sử dụng để chuyển đổi thủ công.\nDi dời CSDL Sau khi hoàn tất chuyển đổi lược đồ, bạn sẽ cần di chuyển chính dữ liệu. Trong trường hợp cơ sở dữ liệu sản xuất, bạn có thể không đủ khả năng để có rất ít thời gian chết trong quá trình di chuyển. Hơn nữa, bạn có thể muốn giữ các giao dịch từ cơ sở dữ liệu nguồn và đích đồng bộ cho đến khi bạn chuyển ứng dụng của mình sang đích mới.\nDịch vụ di chuyển cơ sở dữ liệu AWS giúp bạn di chuyển dữ liệu từ cơ sở dữ liệu nguồn sang cơ sở dữ liệu đích một cách dễ dàng và an toàn. AWS DMS hỗ trợ di chuyển dữ liệu đến và đi từ hầu hết các cơ sở dữ liệu thương mại và nguồn mở được sử dụng rộng rãi. Cơ sở dữ liệu nguồn có thể được đặt trong môi trường tại chỗ của bạn, chạy trên phiên bản Amazon EC2 hoặc có thể là cơ sở dữ liệu Amazon RDS. Mục tiêu có thể là cơ sở dữ liệu trên Amazon EC2 hoặc Amazon RDS. Mục tiêu cũng có thể không liên quan như S3, Stream như Kafka/Kinesis, DocumentDB hoặc DynamoDB, v.v. Ngoài ra, cơ sở dữ liệu nguồn vẫn hoạt động đầy đủ trong quá trình di chuyển, giảm thiểu thời gian chết cho các ứng dụng dựa vào cơ sở dữ liệu.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.1-configtarget/",
	"title": "Configure the Target Database",
	"tags": [],
	"description": "",
	"content": "Tùy vào lược đồ bạn muốn chuyển sang, bạn sẽ phải xem một trong các phần con tương ứng và đi làm theo hướng dẫn:\nCấu hình cơ sở dữ liệu đích (RDS Microsoft SQL Server)\rAurora (MySQL compatible) target\rAurora (PostgresSQL compatible) target\r"
},
{
	"uri": "/vi/4-serverless/4.1-migrate/",
	"title": "Dịch chuyển dữ liệu sử dụng DMS Serverless",
	"tags": [],
	"description": "",
	"content": "Hướng dẫn từng bước này trình bày cách bạn có thể sử dụng AWS DMS để di chuyển dữ liệu từ cơ sở dữ liệu SQL Server hoặc Oracle đang chạy trên Amazon EC2. Ngoài ra, bạn sẽ cấu hình AWS DMS để ghi lại các thay đổi dữ liệu (CDC) trên cơ sở dữ liệu nguồn và sao chép chúng trên cơ sở dữ liệu đích.\nĐiều kiện tiên quyết Thiết lập AWS Console, Tải xuống cặp khóa EC2 và Truy xuất các tham số Môi trường. (Bắt đầu)\nCấu hình cơ sở dữ liệu nguồn của bạn bằng cách chọn một trong các liên kết sau:\nSQL Server làm nguồn\nOracle làm nguồn\nTạo điểm cuối Nguồn và Đích:\nAurora MySQL làm Đích\nAurora PostgreSQL làm Đích\nSau khi bạn đã cấu hình cơ sở dữ liệu nguồn và tạo điểm cuối nguồn và đích. Bạn có thể tiến hành tạo tác vụ Sao chép không có máy chủ.\n"
},
{
	"uri": "/vi/1-start/1.1-signin/",
	"title": "Đăng nhập vào AWS",
	"tags": [],
	"description": "",
	"content": " Đăng nhập vào bảng điều khiển AWS bằng thông tin của bạn.\nNhấp chuột vào nút mở bảng chọn các vùng địa lý (Region) và chọn một vùng bạn mong muốn thực hiện bài thực hành này:\nTên vùng Mã vùng US East (N. Virginia) us-east-1 US East (Ohio) us-east-2 US West (Oregon) us-west-2 Canada (Central) ca-central-1 EU (Frankfurt) eu-central-1 EU (Ireland) eu-west-1 EU (London) eu-west-2 EU (Paris) eu-west-3 EU (Milan) eu-south-1 EU (Stockholm) eu-north-1 Asia Pacific (Hong Kong) ap-east-1 Asia Pacific (Mumbai) ap-south-1 Asia Pacific (Tokyo) ap-northeast-1 Asia Pacific (Osaka) ap-northeast-3 Asia Pacific (Seoul) ap-northeast-2 Asia Pacific (Singapore) ap-southeast-1 Asia Pacific (Sydney) ap-southeast-2 South America (Sao Paulo) sa-east-1 Africa (Cape Town) af-south-1 Middle East (Bahrain) me-south-1 "
},
{
	"uri": "/vi/2-selectsource/2.1-oracle/2.1.1-connectsrcdb/",
	"title": "Kết nối tới CSDL nguồn Oracle",
	"tags": [],
	"description": "",
	"content": " Sau khi kết nối, hãy mở Oracle SQL Developer từ Thanh tác vụ. Lưu ý rằng các biểu tượng của bạn có thể theo thứ tự khác với hình ảnh bên dưới.\nNhấp vào dấu cộng từ menu bên trái để tạo Kết nối mới đến cơ sở dữ liệu bằng các giá trị sau, Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần phải vào Secrets Manager và mở DMSDBSecret và hiển thị mật khẩu. Nó cũng nằm trên tab đầu ra của Cloudformation Stack đầu tiên (lưu ý rằng nó giống nhau nếu bạn đã lấy nó từ đó) sau đó nhấp vào Kết nối.\nTham số Giá trị Connection Name Source Oracle Username dbadmin Password See Cloudformation Output tab for the \u0026ldquo;cfn%\u0026rdquo; stack and obtain the value found for \u0026ldquo;DMSDBSecretP\u0026rdquo; or look it up in AWS Secrets Manager in the secret for Oracle Save Password Check Hostname \u0026lt; SourceOracleEndpoint (you can find this in Cloudformation Output tab or goto RDS service in console and pick your RDS Oracle Source instance)\u0026gt; Port 1521 SID ORACLEDB Sau khi trạng thái trả về là Successful, nhấp vào Connect để kết nối. Bạn sẽ thấy cửa sổ như hình dưới\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/a-rdsmssql/",
	"title": "Microsoft SQL Server target",
	"tags": [],
	"description": "",
	"content": "Trong trang này, bạn sẽ kiểm tra cơ sở dữ liệu mục tiêu sau khi di chuyển.\nMở Microsoft SQL Server Management Studio từ máy chủ EC2 mà bạn đã kết nối qua RDP.\nThực hiện theo hướng dẫn đã mô tả trước đó để kết nối với phiên bản RDS SQL Server mục tiêu.\nKiểm tra nội dung của cơ sở dữ liệu RDS SQL đã di chuyển (dms_sample_target) và đảm bảo rằng các bảng sau đã được di chuyển. Bạn có thể làm điều đó bằng cách mở một cửa sổ Truy vấn Mới để thực hiện câu lệnh sau.\nuse dms_sample_target SELECT * FROM dms_sample_target.INFORMATION_SCHEMA.TABLES; GO Đối với nguồn Oracle, điều này nên hiển thị 15 bảng cơ sở dms_sample và 1 bảng ngoại lệ áp dụng liên quan đến DMS, tổng cộng là 16 bảng được tạo ra.\nĐối với nguồn SQL Server, điều này nên hiển thị 16 bảng cơ sở dms_sample và 1 bảng ngoại lệ áp dụng liên quan đến DMS, tổng cộng là 17 bảng được tạo ra.\nTiếp theo, thực hiện truy vấn sau:\nuse dms_sample_target SELECT * FROM dms_sample_target.sport_type; GO Bóng chày và bóng đá là hai môn thể thao duy nhất hiện đang được liệt kê trong bảng này. Ở phần tiếp theo, bạn sẽ thêm một số bản ghi mới vào cơ sở dữ liệu nguồn với thông tin về các loại thể thao khác. DMS sẽ tự động sao chép những bản ghi mới này từ cơ sở dữ liệu nguồn sang cơ sở dữ liệu đích.\n"
},
{
	"uri": "/vi/2-selectsource/2.2-sqlsrv/2.2.1-connectsrcdb/",
	"title": "Mở SQL Server Management Studio",
	"tags": [],
	"description": "",
	"content": " Sau khi kết nối với máy ảo EC2 Remote Desktop, hãy mở SQL Server Management Studio từ Thanh tác vụ.\nSử dụng các thông tin sau để kết nối với cơ sở dữ liệu nguồn của bạn.\nParameter Value Server Type Database Engine Server Name localhost Authorization Windows Authentication Sau khi bạn thấy trạng thái kiểm tra là Successful (thành công), hãy nhấp vào Connect (kết nối). Cửa sổ của bạn sẽ trông như bên dưới.\n"
},
{
	"uri": "/vi/2-selectsource/2.1-oracle/",
	"title": "Nguồn Oracle",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn đã hoàn tất thiết lập Bắt đầu, bạn đã sẵn sàng di chuyển cơ sở dữ liệu mẫu.\nHướng dẫn từng bước này trình bày cách bạn có thể sử dụng Dịch vụ di chuyển cơ sở dữ liệu AWS (DMS) để di chuyển dữ liệu từ cơ sở dữ liệu Oracle, trong trường hợp này đang chạy trên Amazon RDS nhưng quy trình này giống với quy trình Oracle chạy tại chỗ hoặc bất kỳ nơi nào khác. Ngoài ra, bạn sẽ cấu hình AWS DMS để ghi lại các thay đổi dữ liệu (CDC) trên cơ sở dữ liệu nguồn và sao chép chúng trên cơ sở dữ liệu đích.\nMôi trường cho bài thực hành này bao gồm:\nMột máy ảo EC2 lưu trữ các công cụ được sử dụng trong bài thực hành này như Oracle SQL Developer.\nMột máy Oracle của Amazon RDS được sử dụng để lưu trữ cơ sở dữ liệu Oracle nguồn.\nMột CSDL đích cho việc dịch chuyển dữ liệu\n"
},
{
	"uri": "/vi/3-migratetotarget/3.1-schemaconv/",
	"title": "Quá trình huyển đổi lược đồ",
	"tags": [],
	"description": "",
	"content": "\rPhần này chỉ áp dụng cho các CSDL đích Amazon Aurora. Nếu bạn đang sử dụng loại CSDL đích khác, bạn có thể bỏ qua phần 3.1.2 \\ Một số hình ảnh được lấy từ quá trình chuyển đổi lược đồ Microsoft SQL sang Aurora (PostgreSQL). Tuy nhiên, việc dịch chuyển giữa các nguồn và đích khác nhau sử dụng các quy trình tương tự. Do đó, hướng dẫn này cũng có thể áp dụng cho các nguồn và mục tiêu đó. Phần này trình bày cách sử dụng AWS Schema Conversion Tool để chuyển đổi lược đồ từ Microsoft SQL Server hoặc Oracle sang Amazon Aurora (MySQL hoặc PostGreSQL). Ngoài ra, bạn sẽ quan sát cách AWS SCT giúp bạn phát hiện ra sự khác biệt giữa hai phương ngữ này; và cung cấp cho bạn các mẹo về cách bạn có thể sửa đổi mã thủ tục khi cần để di chuyển thành công tất cả các đối tượng cơ sở dữ liệu.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.1-schemaconv/3.1.3-schemaconv/modifycode/",
	"title": "Sửa mã thủ tục",
	"tags": [],
	"description": "",
	"content": "Trong phần này, chúng ta hỗ trợ sửa đổi mã thủ tục cho SQL Server mà Schema Conversion Tool không thể tự động chuyển đổi cho phương ngữ cơ sở dữ liệu đích.\nBa bước đầu tiên chỉ dành cho nguồn SQL Server. Nếu bạn sử dụng nguồn Oracle, bạn có thể bỏ qua bước 4.\nTừ bảng điều khiển bên trái, bỏ chọn các mục có dấu chấm than ngoại trừ thủ tục generateTransferActivity.\nTiếp theo, nhấp vào thủ tục generateTransferActivity. Quan sát cách SCT làm nổi bật vấn đề, nêu rằng MySQL không hỗ trợ thủ tục PRINT. Để khắc phục lỗi này, bạn cần thay thế ba câu lệnh PRINT được tô sáng bằng câu lệnh SELECT như minh họa trong ví dụ sau:\nLưu ý: đề xuất bạn sử dụng \u0026ndash; trước dòng PRINT hiện tại để chú thích, sau đó sao chép và dán cú pháp chính xác cho 2 lần xuất hiện đầu tiên, sau đó sao chép cú pháp chính xác cuối cùng cho lần xuất hiện cuối cùng. Bạn sẽ cần thực hiện tất cả những điều này trong 1 phiên chỉnh sửa, vì vậy hãy mũi tên xuống sau khi đi đến dòng đầu tiên\nCú pháp MS SQL Server:\nPRINT (concat(\u0026#39;max t: \u0026#39;,@max_tik_id,\u0026#39; min t: \u0026#39;, @min_tik_id, \u0026#39;max p: \u0026#39;,@max_p_id,\u0026#39; min p: \u0026#39;, @min_p_id)); MySQL syntax:\n--first 2 use line below SELECT concat(\u0026#39;max t: \u0026#39;,@max_tik_id,\u0026#39; min t: \u0026#39;, @min_tik_id, \u0026#39;max p: \u0026#39;,@max_p_id,\u0026#39; min p: \u0026#39;, @min_p_id); --third one use SELECT (\u0026#39;Sorry, no tickets are available for transfer.\u0026#39;); Sau khi bạn thực hiện sửa đổi, nhấp chuột phải vào lược đồ dbo và chọn Create Report. Quan sát thấy lược đồ của cơ sở dữ liệu nguồn hiện đã hoàn toàn tương thích với cơ sở dữ liệu đích.\nLưu ý: Đối với các nguồn không phải SQL Server (ví dụ: Oracle), đây mới là bước đầu tiên của bạn trên trang này (dù được đánh số khác). Cảm ơn sự thông cảm của bạn!!\nNhấp chuột phải vào cơ sở dữ liệu dms_sample ở bảng bên trái và chọn Convert Schema để tạo các câu lệnh ngôn ngữ định nghĩa dữ liệu (data definition language - DDL) cho cơ sở dữ liệu đích.\nKhi được cảnh báo rằng các đối tượng có thể đã tồn tại trong cơ sở dữ liệu, hãy nhấp vào Yes.\nBạn có thể thấy một thông báo khác nêu rằng “The operation will be partially performed” (Hoạt động sẽ được thực hiện một phần) và chỉ có 3 trong số 8 đối tượng sẽ được chuyển đổi. Nhấp vào OK.\nNhấp chuột phải vào lược đồ dms_sample \u0026gt; dbo (nguồn SQL Server) hoặc dms_sample (nguồn khác) trong bảng điều khiển bên phải và nhấp vào Apply to database.\nKhi được hỏi bạn có muốn áp dụng lược đồ vào cơ sở dữ liệu không, hãy nhấp vào Yes.\nTại thời điểm này, lược đồ đã được áp dụng cho cơ sở dữ liệu mục tiêu. Mở rộng lược đồ dms_sample_dbo hoặc dms_sample trên bảng điều khiển bên phải để xem các bảng, chế độ xem, thủ tục lưu trữ, v.v.\nBạn đã thành công trong việc chuyển đổi lược đồ cơ sở dữ liệu và đối tượng từ nguồn sang định dạng tương thích với Amazon Aurora (MySQL).\nPhần này đã chứng minh việc dích chuyển lược đồ của một cơ sở dữ liệu nguồn vào Amazon Aurora dễ như thế nào bằng cách sử dụng Công cụ Chuyển đổi Lược đồ AWS. Tương tự, bạn đã học cách Công cụ Chuyển đổi Lược đồ làm nổi bật sự khác biệt giữa các phương ngữ động cơ cơ sở dữ liệu khác nhau, và cung cấp cho bạn các mẹo về cách bạn có thể sửa đổi mã một cách thành công khi cần thiết để di chuyển quy trình và các đối tượng cơ sở dữ liệu khác.\nCác bước tương tự có thể được thực hiện để di chuyển khối lượng công việc SQL Server và Oracle sang các động cơ RDS khác bao gồm PostgreSQL và MySQL.\nPhần tiếp theo mô tả các bước cần thiết để di chuyển dữ liệu thực tế bằng cách sử dụng AWS DMS. Đọc tiếp để tìm hiểu thêm\u0026hellip;\n"
},
{
	"uri": "/vi/4-serverless/4.2-scaletesting/4.2.1-generateload/",
	"title": "Tạo khối lượng xử lý trên CSDL nguồn",
	"tags": [],
	"description": "",
	"content": "Dừng và Sửa đổi Tác vụ Không có Máy chủ DMS Trước khi tạo tải trên cơ sở dữ liệu Nguồn, trước tiên dừng tác vụ di chuyển dữ liệu không có máy chủ DMS đang chạy để chúng tôi có thể thay đổi một số cài đặt của tác vụ Không có Máy chủ DMS\nDừng tác vụ đang chạy:\nNhấp vào Actions, sau đó chọn Stop.\nSửa đổi cài đặt tác vụ:\nKhi trạng thái tác vụ thay đổi từ \u0026ldquo;Stopping\u0026rdquo; thành \u0026ldquo;Stopped\u0026rdquo;, hãy chọn lại tác vụ và nhấp vào nút Modify để thay đổi cài đặt bộ nhớ, DCU tối đa và CW Log\n2.1. Cập nhật cài đặt bộ nhớ để xử lý tải tăng:\nĐể đảm bảo tác vụ sao chép có thể quản lý tải tăng, hãy cập nhật cài đặt bộ nhớ. Nếu không có những bản cập nhật này, bạn có thể gặp lỗi \u0026ldquo;Reading from source paused\u0026rdquo;.\n2.2. Chuyển sang Chế độ xem JSON trong Cài đặt. Tìm thẻ **ChangeProcessingTuning** và thay đổi những mục sau:\nMemoryKeepTime: Sửa 60 thành 600.\nMemoryLimitTotal: Sửa 1024 thành 10240.\nNếu bạn không thay đổi những thiết lập này, tác vụ DMS sẽ bị giới hạn khi đạt đến `MemoryLimitTotal` và bạn có thể không thấy hoạt động mở rộng quy mô. Những thiết lập này đảm bảo rằng tác vụ có thể xử lý tải tăng hiệu quả. Tham khảo mục Thay đổi thiết lập điều chỉnh xử lý để biết thêm thông tin về các tham số này\r2.3. Xóa thẻ log CloudWatch: Xóa thẻ \u0026ldquo;CloudWatchLogGroup\u0026rdquo; và \u0026ldquo;CloudWatchLogStream\u0026rdquo;.\nTrước: Sau: 2.4. Tăng đơn vị dung lượng DMS tối đa để tác vụ có thể mở rộng khi tải trên máy chủ nguồn tăng: Trong Cài đặt tính toán, hãy thay đổi Đơn vị dung lượng DMS tối đa (DCU) thành 16. Lưu thay đổi và tiếp tục tác vụ:\nTiếp tục tác vụ sau khi các thay đổi được lưu và trạng thái thay đổi từ trạng thái \u0026ldquo;Modifying\u0026rdquo; thành \u0026ldquo;Stopped\u0026rdquo;. Tạo khối lượng tính toán trên cơ sở dữ liệu nguồn Hãy mô phỏng một trang web truyền thông xã hội nhộn nhịp bằng cách tạo 3 bảng và một quy trình được lưu trữ để tạo hàng nghìn bài đăng, người dùng và lượt bình chọn theo các khoảng thời gian ngẫu nhiên, mô phỏng lưu lượng truy cập không thể đoán trước của một nền tảng truyền thông xã hội trực tiếp.\nLưu ý: chỉ mở rộng cho nguồn trong kịch bản của bạn. Bạn có thể bỏ qua các nguồn khác.\nĐối với SQL Server làm Nguồn: Chạy tập lệnh tải SQL:\nMở phiên máy tính từ xa mới tới máy chủ bastion của bạn và kết nối với cơ sở dữ liệu nguồn SQL Server bằng SQL Server Management Studio (SSMS). Sau khi kết nối, nhấp vào New Query trong SSMS.\nTrong cửa sổ truy vấn, sao chép và dán nội dung của mssql_load_script.sql được cung cấp và nhấp vào Execute.\nThao tác này sẽ tạo ba bảng: Post, Users và Votes, cùng với các quy trình lưu trữ tạo dữ liệu cần thiết. Mô phỏng tải nặng trên cơ sở dữ liệu nguồn:\nChạy trực tiếp mã sau trong dấu nhắc lệnh để bắt đầu 10 phiên song song: for /L %i in (1,1,10) do start cmd /k sqlcmd -S localhost -U \u0026lt;\u0026lt;Enter Username\u0026gt;\u0026gt; -P \u0026lt;\u0026lt;Enter Password\u0026gt;\u0026gt; -Q \u0026#34;USE dms_sample; EXEC usp_RandomQ 100000;\u0026#34; Thao tác này sẽ mở 10 phiên đồng thời, mỗi phiên tạo tải trên cơ sở dữ liệu SQL Server nguồn của bạn. Đối với Oracle làm Nguồn: Chạy tập lệnh tải SQL:\nMở phiên máy tính từ xa mới tới máy chủ bastion của bạn và kết nối với cơ sở dữ liệu Oracle bằng SQL Developer.\nNhấp vào biểu tượng SQL Worksheet trong Oracle SQL Developer, sau đó kết nối với Cơ sở dữ liệu Oracle nguồn.\nTrong cửa sổ truy vấn, sao chép và dán nội dung được cung cấp từ oracle_load_script.sql và nhấp vào Execute.\nThao tác này sẽ tạo ba bảng: Post, Users và Votes, cùng với các quy trình lưu trữ tạo dữ liệu cần thiết.\nMô phỏng tải nặng trên cơ sở dữ liệu nguồn:\nChạy trực tiếp đoạn mã sau trong cửa sổ SQL Worksheet mới để tạo tải trên cơ sở dữ liệu Oracle nguồn của bạn: EXEC usp_RandomQ(100000); Chúng tôi đã tạo tải và bây giờ chúng tôi sẽ theo dõi mức sử dụng CPU khi nó tiến gần đến ngưỡng 80%, điều này sẽ kích hoạt sự kiện điều chỉnh quy mô để tăng DCU hiện tại từ 4 lên 8. Quá trình này có thể mất khoảng 20 đến 30 phút. Vui lòng chuyển sang phần tiếp theo để tìm hiểu cách theo dõi tác vụ di chuyển dữ liệu và quan sát sự kiện điều chỉnh quy mô.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.1-memorypressure/6.1.1-environmentcreation/",
	"title": "Tạo môi trường",
	"tags": [],
	"description": "",
	"content": "Như đã đề cập trước đó, áp lực bộ nhớ trên phiên bản DMS có thể xảy ra khi tác vụ di chuyển đặt tải trọng cao lên phiên bản DMS và bộ nhớ được phân bổ không đủ để xử lý khối lượng công việc. Do đó, để tạo lại tình huống này, chúng ta sẽ đặt tải thông qua tác vụ DMS.\nTrong bài tập khắc phục sự cố này, chúng ta sẽ sử dụng các tài nguyên (tác vụ DMS/phiên bản RDS, v.v.) được tạo trong phòng thí nghiệm Oracle Source to Amazon Aurora (PostgreSQL) Target. Tuy nhiên, nếu bạn đang theo dõi bất kỳ phòng thí nghiệm nào khác với bất kỳ công cụ nguồn/đích RDBMS nào khác, hãy thoải mái tiếp tục sử dụng các tài nguyên đó.\nĐiều hướng đến danh sách tác vụ DMS trên bảng điều khiển AWS DMS. Chọn tác vụ di chuyển toàn bộ của DMS. Từ menu thả xuống Actions, nhấp vào Stop.\nSau khi tác vụ dừng hẳn, một lần nữa vào menu Actions \u0026gt; Modify.\nTrên trang Modify data migration task, kéo xuống phần Advanced task settings. Trong Full load tuning settings, nhập 49 vào hộp văn bản cho Maximum number of tables to load in parallel* và 50000 vào hộp văn bản Commit rate during full load.\nBây giờ, cuộn xuống phần Table mappings. Trong Selection Rules*, thay thế tên Sơ đồ từ DMS_SAMPLE thành %. Bây giờ, cuộn xuống cuối trang và nhấn nút Save.\nSau khi sửa đổi tác vụ hoàn tất, hãy tiếp tục và RESTART (khởi động lại) tác vụ.\nTheo dõi số liệu theo dõi đám mây của phiên bản DMS. Khi tải trên bộ nhớ phiên bản DMS tăng lên, bạn có thể nhận thấy Bộ nhớ có thể giải phóng giảm và Sử dụng phân vùng swap tăng/biến động. Ngoài ra, hãy theo dõi trạng thái tác vụ DMS. Sau một thời gian, bạn sẽ thấy trạng thái tác vụ DMS được thay đổi thành Failed (Thất bại).\nĐiều hướng đến tác vụ DMS thất bại, trong tab Overview details, hãy chú ý đến thông báo Last failure (lỗi mới nhất). Nếu tác vụ DMS thất bại do áp lực bộ nhớ trên phiên bản DMS, bạn sẽ thấy thông báo \u0026ldquo;Last Error Replication task out of memory. Stop Reason FATAL_ERROR Error Level FATAL.\u0026rdquo;\nỞ giai đoạn này, chúng ta có thể tạo thành công kịch bản trong đó tác vụ DMS thất bại do áp lực bộ nhớ trên phiên bản DMS!\nNếu bạn thấy tác vụ đã hoàn thành thành công ngay cả sau khi thêm nhiều bảng vào tác vụ, bạn có thể thêm nhiều bảng hơn nữa vào tác vụ. Ngoài ra, bạn cũng có thể tạo tác vụ riêng trên cùng một phiên bản và chạy tất cả các tác vụ song song.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.2-tableerrors/6.2.1-environmentcreation/",
	"title": "Tạo môi trường",
	"tags": [],
	"description": "",
	"content": "\rTrong bài tập khắc phục sự cố này, chúng ta sẽ sử dụng các tài nguyên (tác vụ DMS/phiên bản RDS, v.v.) được tạo trong phòng thí nghiệm Oracle Source to Target Amazon Aurora (PostgreSQL). Tuy nhiên, nếu bạn đang theo dõi bất kỳ phòng thí nghiệm nào khác với bất kỳ công cụ mục tiêu RDBMS nào khác, hãy thoải mái tiếp tục sử dụng các tài nguyên đó. Chúng tôi giả định rằng bạn đã tạo tác vụ DMS bằng bài thực hành này và cũng đã hoàn tất di chuyển một lần.\nBây giờ, hãy tiếp tục và KHỞI ĐỘNG LẠI cùng một tác vụ DMS oracle-migration-task một lần nữa.\nSau khi tác vụ này chạy trong vài phút, bạn sẽ thấy tác vụ chuyển sang trạng thái lỗi. Bạn có thể thấy trạng thái tác vụ là Running with errors (Đang chạy nhưng gặp lỗi) hoặc Error (Lỗi).\n"
},
{
	"uri": "/vi/4-serverless/4.1-migrate/4.1.1-createmigration/",
	"title": "Tạo quá trình dịch chuyển serverless",
	"tags": [],
	"description": "",
	"content": "Trong hướng dẫn từng bước này, bạn sẽ tạo Serverless Replication để di chuyển dữ liệu từ cơ sở dữ liệu Oracle hoặc SQL Server sang Amazon Aurora (tương thích với MySQL hoặc PostgreSQL).\nMôi trường cho phòng thí nghiệm này bao gồm:\nCơ sở dữ liệu nguồn (SQL Server hoặc Oracle).\nMột phiên bản Amazon Aurora được sử dụng làm cơ sở dữ liệu đích.\nTruy cập AWS DMS Console. Trên trang AWS DMS Console, nhấp vào Serverless replication. AWS DMS Serverless Replication là một khái niệm mới tóm tắt các phiên bản và tác vụ thường thấy trong AWS DMS chuẩn.\nTrên trang Serverless replication, nhấp vào nút Create Replication.\nCấu hình quá trình sao chép\nCung cấp tên cho Serverless replication của bạn và Configure replication để kết nối với cơ sở dữ liệu nguồn và đích của bạn. Trong bước này, bạn sẽ cần chỉ định Endpoint Nguồn và Đích. Bạn cũng sẽ cấu hình sao chép để thực hiện tải đầy đủ (di chuyển dữ liệu hiện có) và bật Sao lưu dữ liệu đang thay đổi (CDC) để sao chép các thay đổi đang diễn ra từ cơ sở dữ liệu nguồn sang cơ sở dữ liệu đích.\n| Tham số\t| Giá trị |\r|--------------|-----------------|\r| Task identifier\t| `**dms-serverless-lab**` |\r| Source database endpoint\t| Endpoint CSDL nguồn (SQL Server or Oracle) , Ví dụ: `**sql-server-source**` |\r| Target database endpoint\t| Endpoint CSDL đích (MySQL or PostgreSQL) , Ví dụ: `**mysql-target**` |\r| Migration type\t| Full Load and CDC ( Dịch chuyển cả CSDL đã có và đang cập nhật sau này) |\r![](/images/4/1/1/0002.png?width=90pc)\rConfigure Additional Settings\nTham số Giá trị Giải thích Target table preparation mode Do Nothing Điều này đảm bảo rằng bất kỳ bảng hiện có nào trong cơ sở dữ liệu đích sẽ không bị xóa và các bảng không có trong cơ sở dữ liệu đích sẽ được tạo. Stop task after full load completes Don\u0026rsquo;t stop Tùy chọn này cho phép quá trình sao chép tiếp tục chạy ngay cả sau khi quá trình tải đầy đủ ban đầu hoàn tất, do đó có thể xử lý những thay đổi đang diễn ra. Include LOB columns in replication Limited LOB mode Thiết lập này đảm bảo rằng các cột đối tượng lớn (LOB) được đưa vào quá trình sao chép với một số hạn chế nhất định để tối ưu hóa hiệu suất. Max LOB size 32 KB Phần này chỉ định kích thước tối đa cho các cột LOB sẽ được sao chép. Turn on validation Keep it unchecked i.e. OFF Việc xác thực có thể tốn nhiều tài nguyên và không phải lúc nào cũng cần thiết cho mọi tình huống. Turn on cloudwatch logs turn it on and keep all the \u0026ldquo;default\u0026rdquo;. Điều này sẽ cho phép bạn theo dõi quá trình sao chép và khắc phục mọi sự cố phát sinh. Thiết lập Quy tắc lựa chọn bảng\nLưu ý: Chỉ mở rộng cho nguồn trong kịch bản của bạn. Bạn có thể bỏ qua các nguồn khác.\nĐối với nguồn Oracle, hãy sử dụng: Tham số Giá trị Schema DMS_SAMPLE% Table name % Action Include Đối với nguồn SQL Server, hãy sử dụng: Tham số Giá trị Schema dbo% Table name % Action Include Nếu màn hình Create Task không nhận ra bất kỳ lược đồ nào, hãy đảm bảo quay lại màn hình điểm cuối và nhấp vào điểm cuối của bạn. Cuộn xuống cuối trang và nhấp vào Nút Làm mới (⟳) trong phần Schemas. Nếu lược đồ của bạn vẫn không hiển thị trên màn hình Create Task, hãy nhấp vào tab Guided và chọn thủ công lược đồ ‘dbo’ và tất cả các bảng.\nThiết lập quy tắc chuyển đổi Quy tắc chuyển đổi cho phép bạn sửa đổi cấu trúc hoặc nội dung của dữ liệu khi dữ liệu được di chuyển. Mở rộng phần Quy tắc chuyển đổi và nhấp vào Thêm quy tắc chuyển đổi mới bằng các giá trị sau: Đối với nguồn Oracle, hãy sử dụng:\n- Rule 1:\r| Tham số\t| Giá trị |\r|----------|------------|\r| Target\t| Schema |\r| Schema Name\t| DMS_SAMPLE |\r| Action\t| Make lowercase |\r- Rule 2:\r| Tham số\t| Giá trị |\r|----------|------------|\r| Target\t| Table |\r| Schema Name\t| DMS_SAMPLE |\r| Table Name\t| % |\r| Action\t| Make lowercase |\r- Rule 3:\r| Tham số\t| Giá trị |\r|----------|------------|\r| Target\t| Column |\r| Schema Name\t| `DMS_SAMPLE` |\r| Table Name\t| `%` |\r| Column Name\t| `%` |\r| Action\t| Make lowercase |\rĐối với nguồn SQL Server, hãy đùng:\nTham số Giá trị Target Schema Schema Name dbo Action Rename to: dms_sample_target Chỉ định Cài đặt liên quan đến Mạng\nTrong cài đặt Compute, hãy chọn VPC và Subnet nơi bản sao sẽ được tạo. Ngoài ra, hãy chọn nhóm bảo mật thích hợp.\nTham số Giá trị VPC Chọn VPC ID chứa DMSVpc trong danh sách Subnet Group Subnet group mặc định trong VPC Security Groups Chọn security group bắt đầu với cfn-InstanceSecurityGroup-% AWS KMS Key **aws/dms** Chọn Vùng khả dụng\nTrong phần Availability, hãy chọn tùy chọn khả dụng phù hợp với khối lượng công việc của bạn và chọn AZ cụ thể mà phiên bản chính của bạn sẽ hoạt động. Nếu bạn chọn \u0026ldquo;No preference\u0026rdquo;, AWS DMS sẽ tự động chọn AZ cho bạn.\nTham số Giá trị Availability Single-AZ Availability Zone No Preference Chọn Đơn vị dung lượng DMS tối thiểu và tối đa (DCU)\nTrong Cài đặt dung lượng, Chọn Đơn vị dung lượng DMS tối thiểu và tối đa (DCU). Dung lượng tính toán sao chép trong AWS DMS được đo bằng Đơn vị dung lượng DMS (DCU). Mỗi DCU cung cấp 2 GiB bộ nhớ cùng với các tài nguyên tính toán và mạng tương ứng.\n| Tham số\t| Giá trị |\r|----------|------------|\r| Minimum DMS Capacity units (DCU)\t| 1 |\r| Maximum DMS Capacity units (DCU)\t| 4 |\r![](/images/4/1/1/0008.png?width=90pc)\rXem lại và Tạo bản sao\nXem lại tất cả các cấu hình của bạn, sau đó bắt đầu bản sao không có máy chủ bằng cách nhấp vào Tạo bản sao.\nNếu tất cả các tham số đều chính xác và xác thực thành công thì bản sao mới tạo sẽ hiển thị trong Bản sao không có máy chủ.\nBắt đầu quá trình dịch chuyển\nĐể bắt đầu di chuyển dữ liệu từ cơ sở dữ liệu nguồn sang cơ sở dữ liệu đích, hãy bắt đầu bản sao không có máy chủ. Chọn bản sao và, trong Actions, chọn Start.\nTrên trang Start replication, Chọn Don\u0026rsquo;t stop CDC rồi Nhấp vào Start replication.\nQuá trình sao chép sẽ bắt đầu ngay lập tức.\nQuá trình này kết thúc quá trình tạo bản sao và bản sao của bạn hiện đang bắt đầu. Quá trình sao chép không có máy chủ bao gồm 8 giai đoạn, bạn có thể theo dõi trong cột Trạng thái. Vui lòng chuyển sang trang tiếp theo để biết tổng quan chi tiết về từng giai đoạn.\n"
},
{
	"uri": "/vi/7-cleanup/7.1-deleteserverlesstask/",
	"title": "Xóa Serverless Migration Task",
	"tags": [],
	"description": "",
	"content": " Nhấp vào đây để đi đến Bảng điều khiển DMS.\nTrên menu bên trái, nhấp vào Serverless replications và chọn từng bản sao mà bạn đã tạo nếu bạn đã tạo nhiều bản sao.\nNhấp vào nút Actions ở phía bên phải, sau đó chọn Stop.\nXác nhận rằng bạn muốn dừng quá trình sao chép.\nSau khi trạng thái của quá trình sao chép thay đổi thành Stopped, hãy nhấp vào nút Actions một lần nữa, sau đó chọn Delete.\nXác nhận rằng bạn muốn xóa bản sao.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.1-configtarget/b-auroramysql/",
	"title": "Aurora (MySQL compatible) target",
	"tags": [],
	"description": "",
	"content": " Mở MySQL Workbench 8.0 CE đã sử dụng trước đó để thêm các quyền cần thiết cho Aurora MySQL làm mục tiêu DMS.\nTrong bước này, bạn sẽ xóa ràng buộc khóa ngoại khỏi cơ sở dữ liệu đích:\nTừ bên trong MySQL Workbench, mở cửa sổ truy vấn và sao chép và dán mã bên dưới vào cửa sổ truy vấn rồi thực thi.\nLưu ý: Bạn chỉ cần mở rộng các phần hướng dẫn cho CSDL nguồn bạn đã chọn và có thể bỏ qua các phần cho CSDL khác.\nMở phần này nếu CSDL nguồn của bạn là Oracle\rdrop index set_seat_idx on dms_sample.sporting_event_ticket; drop index set_ticketholder_idx on dms_sample.sporting_event_ticket; drop index set_sporting_event_idx on dms_sample.sporting_event_ticket; Mở phần này nếu CSDL nguồn của bạn là Microsoft SQL Server\rALTER TABLE dms_sample_dbo.player DROP FOREIGN KEY sport_team_fk; ALTER TABLE dms_sample_dbo.seat DROP FOREIGN KEY seat_type_fk; ALTER TABLE dms_sample_dbo.seat DROP FOREIGN KEY s_sport_location_fk; ALTER TABLE dms_sample_dbo.sport_division DROP FOREIGN KEY sd_sport_type_fk; ALTER TABLE dms_sample_dbo.sport_division DROP FOREIGN KEY sd_sport_league_fk; ALTER TABLE dms_sample_dbo.sport_league DROP FOREIGN KEY sl_sport_type_fk; ALTER TABLE dms_sample_dbo.sport_team DROP FOREIGN KEY st_sport_type_fk; ALTER TABLE dms_sample_dbo.sport_team DROP FOREIGN KEY home_field_fk; ALTER TABLE dms_sample_dbo.sporting_event DROP FOREIGN KEY se_sport_type_fk; ALTER TABLE dms_sample_dbo.sporting_event DROP FOREIGN KEY se_away_team_id_fk; ALTER TABLE dms_sample_dbo.sporting_event DROP FOREIGN KEY se_home_team_id_fk; ALTER TABLE dms_sample_dbo.sporting_event DROP FOREIGN KEY se_location_id_fk; ALTER TABLE dms_sample_dbo.sporting_event_ticket DROP FOREIGN KEY set_person_id; ALTER TABLE dms_sample_dbo.sporting_event_ticket DROP FOREIGN KEY set_sporting_event_fk; ALTER TABLE dms_sample_dbo.sporting_event_ticket DROP FOREIGN KEY set_seat_fk; ALTER TABLE dms_sample_dbo.ticket_purchase_hist DROP FOREIGN KEY tph_sport_event_tic_id; ALTER TABLE dms_sample_dbo.ticket_purchase_hist DROP FOREIGN KEY tph_ticketholder_id; ALTER TABLE dms_sample_dbo.ticket_purchase_hist DROP FOREIGN KEY tph_transfer_from_id; drop index set_ev_id_tkholder_id_idx on dms_sample_dbo.sporting_event_ticket; drop index set_seat_idx on dms_sample_dbo.sporting_event_ticket; drop index set_ticketholder_idx on dms_sample_dbo.sporting_event_ticket; drop index set_sporting_event_idx on dms_sample_dbo.sporting_event_ticket; Thực thi tập lệnh truy vấn (nhấp vào biểu tượng tia sét). Kết quả sẽ trông tương tự như cửa sổ bên dưới.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/b-auroramysql/",
	"title": "Aurora (MySQL compatible) target",
	"tags": [],
	"description": "",
	"content": "In this page, you will inspect the target database after migration.\nOpen MySQL Workbench 8.0 CE from within the EC2 server, and click on Target Aurora RDS (MySQL) database connection that you created earlier.\nInspect the migrated data, by querying one of the tables in the target database. For example, the following query should return a table with two rows:\nNote: expand only for the source in your scenario you can skip the other sources.\nFor Oracle Source expand this\rSELECT * FROM dms_sample.sport_type; For SQL Server Source expand this\rSELECT * FROM dms_sample_dbo.sport_type; Baseball, and football are the only two sports that are currently listed in this table. In the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target database.\nBefore running the next script block we will need to change preferences in MySQL Workbench. Go to Edit from menu then Preferences then SQL Editor and increase DBMS Connection read and timeout settings to 600 vs. defaults like below\nNow, disconnect your MySql workbench \u0026amp; reconnect to ensure the preference changes take effect. To do this click the X on the MySQL Target tab besides the home icon upper left then double click on the MySQL Target connection box to reconnect\nUse the following script that matches your source database selected to enable the foreign key constraints that we dropped earlier. Within MySQL Workbench, copy and paste the sql below and execute it.\nNote: this will take a long time to complete you can move onto the next step while it is running. If errors occur they can be ignored or resolved later.\nFor Oracle Source expand this\rUSE dms_sample; ALTER TABLE dms_sample.player ADD CONSTRAINT sport_team_fk FOREIGN KEY (sport_team_id) REFERENCES dms_sample.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample.seat ADD CONSTRAINT seat_type_fk FOREIGN KEY (seat_type) REFERENCES dms_sample.seat_type (name) ON DELETE CASCADE; /* FK is incompatible in Oracle ALTER TABLE dms_sample.seat ADD CONSTRAINT s_sport_location_fk FOREIGN KEY (sport_location_id) REFERENCES dms_sample.sport_location (id) ON DELETE CASCADE; */ ALTER TABLE dms_sample.sport_division ADD CONSTRAINT sd_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_division ADD CONSTRAINT sd_sport_league_fk FOREIGN KEY (sport_league_short_name) REFERENCES dms_sample.sport_league (short_name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_league ADD CONSTRAINT sl_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name); ALTER TABLE dms_sample.sport_team ADD CONSTRAINT st_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_team ADD CONSTRAINT home_field_fk FOREIGN KEY (home_field_id) REFERENCES dms_sample.sport_location (id) ON DELETE CASCADE; /* table is too big for our lab time to add constraints back ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name); ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_away_team_id_fk FOREIGN KEY (away_team_id) REFERENCES dms_sample.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_home_team_id_fk FOREIGN KEY (home_team_id) REFERENCES dms_sample.sport_team (id); ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_location_id_fk FOREIGN KEY (location_id) REFERENCES dms_sample.sport_location (id); ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_person_id FOREIGN KEY(ticketholder_id) REFERENCES dms_sample.person (ID) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_sporting_event_fk FOREIGN KEY (sporting_event_id) REFERENCES dms_sample.sporting_event (id) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_seat_fk FOREIGN KEY (sport_location_id, seat_level, seat_section, seat_row, seat) REFERENCES dms_sample.seat (sport_location_id, seat_level, seat_section, seat_row, seat); */ ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_sport_event_tic_id FOREIGN KEY (sporting_event_ticket_id) REFERENCES dms_sample.sporting_event_ticket (id) ON DELETE CASCADE; ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_ticketholder_id FOREIGN KEY (purchased_by_id) REFERENCES dms_sample.person (ID); ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_transfer_from_id FOREIGN KEY (transferred_from_id) REFERENCES dms_sample.person (ID); /* --- these will time out in mysql workbench unless you select Edit \u0026gt; Preferences \u0026gt; SQL Editor --- and change DBS timeout settings to all be 600 seconds vs. 30 / 60 --- Note these aren\u0026#39;t required but here for reference since we dropped them for load speed ---create index set_ev_id_tkholder_id_idx on dms_sample_dbo.sporting_event_ticket (sporting_event_id,ticketholder_id); ---create index set_seat_idx on dms_sample_dbo.sporting_event_ticket (sport_location_id,seat_level,seat_section,seat_row,seat); ---create index set_ticketholder_idx on dms_sample_dbo.sporting_event_ticket (ticketholder_id); ---CREATE INDEX set_sporting_event_idx ON dms_sample_dbo.sporting_event_ticket (sporting_event_id); */ For SQL Server Source expand this\rUSE dms_sample_dbo; ALTER TABLE dms_sample_dbo.player ADD CONSTRAINT sport_team_fk FOREIGN KEY (sport_team_id) REFERENCES dms_sample_dbo.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.seat ADD CONSTRAINT seat_type_fk FOREIGN KEY (seat_type) REFERENCES dms_sample_dbo.seat_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.seat ADD CONSTRAINT s_sport_location_fk FOREIGN KEY (sport_location_id) REFERENCES dms_sample_dbo.sport_location (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_division ADD CONSTRAINT sd_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_division ADD CONSTRAINT sd_sport_league_fk FOREIGN KEY (sport_league_short_name) REFERENCES dms_sample_dbo.sport_league (short_name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_league ADD CONSTRAINT sl_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name); ALTER TABLE dms_sample_dbo.sport_team ADD CONSTRAINT st_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_team ADD CONSTRAINT home_field_fk FOREIGN KEY (home_field_id) REFERENCES dms_sample_dbo.sport_location (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name); ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_away_team_id_fk FOREIGN KEY (away_team_id) REFERENCES dms_sample_dbo.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_home_team_id_fk FOREIGN KEY (home_team_id) REFERENCES dms_sample_dbo.sport_team (id); ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_location_id_fk FOREIGN KEY (location_id) REFERENCES dms_sample_dbo.sport_location (id); /* commenting these out as they take too long to perform during our workshop --- these will time out in mysql workbench unless you select Edit \u0026gt; Preferences \u0026gt; SQL Editor --- and change DBS timeout settings to all be 600 seconds vs. 30 / 60 --- Note these aren\u0026#39;t required but here for reference since we dropped them for load speed ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_person_id FOREIGN KEY(ticketholder_id) REFERENCES dms_sample_dbo.person (ID) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_sporting_event_fk FOREIGN KEY (sporting_event_id) REFERENCES dms_sample_dbo.sporting_event (id) ON DELETE CASCADE; */ ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_seat_fk FOREIGN KEY (sport_location_id, seat_level, seat_section, seat_row, seat) REFERENCES dms_sample_dbo.seat (sport_location_id, seat_level, seat_section, seat_row, seat); ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_sport_event_tic_id FOREIGN KEY (sporting_event_ticket_id) REFERENCES dms_sample_dbo.sporting_event_ticket (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_ticketholder_id FOREIGN KEY (purchased_by_id) REFERENCES dms_sample_dbo.person (ID); ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_transfer_from_id FOREIGN KEY (transferred_from_id) REFERENCES dms_sample_dbo.person (ID); /* --- these will time out in mysql workbench unless you select Edit \u0026gt; Preferences \u0026gt; SQL Editor --- and change DBS timeout settings to all be 600 seconds vs. 30 / 60 --- Note these aren\u0026#39;t required but here for reference since we dropped them for load speed ---create index set_ev_id_tkholder_id_idx on dms_sample_dbo.sporting_event_ticket (sporting_event_id,ticketholder_id); ---create index set_seat_idx on dms_sample_dbo.sporting_event_ticket (sport_location_id,seat_level,seat_section,seat_row,seat); ---create index set_ticketholder_idx on dms_sample_dbo.sporting_event_ticket (ticketholder_id); ---CREATE INDEX set_sporting_event_idx ON dms_sample_dbo.sporting_event_ticket (sporting_event_id); */ Execute the script above for the source you selected\nBaseball, and football are the only two sports that are currently listed in this table. In the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target database.\n"
},
{
	"uri": "/vi/4-serverless/4.1-migrate/4.1.2-replicationstages/",
	"title": "AWS DMS Serverless - Các giai đoạn sao chép",
	"tags": [],
	"description": "",
	"content": "Để xử lý các tài nguyên cần thiết cho việc sao chép dữ liệu, AWS DMS Serverless chuyển đổi qua các giai đoạn khác nhau phản ánh các quy trình nội bộ của dịch vụ. Khi bắt đầu sao chép, AWS DMS Serverless sẽ đánh giá khối lượng công việc, phân bổ các tài nguyên cần thiết và bắt đầu sao chép dữ liệu dựa trên các trạng thái sau.\nInitializing (Khởi tạo): AWS DMS Serverless bắt đầu sao chép bằng cách thiết lập các tham số cần thiết cho tác vụ. Việc khởi tạo mất khoảng 2 đến 5 phút.\nPreparing Metadata Resources (Chuẩn bị tài nguyên siêu dữ liệu): Hệ thống thiết lập kết nối với cơ sở dữ liệu nguồn của bạn để thu thập siêu dữ liệu cần thiết cho việc sao chép. Giai đoạn này có thể mất khoảng 15 đến 20 phút.\nTesting Connection (Kiểm tra kết nối): DMS Serverless kiểm tra xem các kết nối đến cả cơ sở dữ liệu nguồn và đích có hoạt động bình thường không. Việc kiểm tra kết nối nguồn và đích có thể mất tới 2 đến 5 phút.\nFetching Metadata (Lấy siêu dữ liệu): Siêu dữ liệu từ nguồn được lấy ra, cho phép DMS Serverless phân tích cấu trúc cơ sở dữ liệu và nhu cầu về dung lượng. Có thể mất tới 5 phút để phân tích siêu dữ liệu.\nCalculating Capacity (Tính toán dung lượng): Dựa trên siêu dữ liệu đã truy xuất, DMS ước tính lượng tài nguyên cần thiết để xử lý các tác vụ sao chép. Tác vụ này có thể mất từ ​​1 đến 2 phút.\nProvisioning Capacity (Cung cấp dung lượng): AWS DMS phân bổ các tài nguyên tính toán cần thiết dựa trên các phép tính trước đó để hỗ trợ sao chép. Có thể mất từ ​​15 đến 20 phút để cung cấp sao chép không có máy chủ.\nReplication Starting (Bắt đầu sao chép): Sao chép dữ liệu bắt đầu, bao gồm các giai đoạn như Full Load và Ghi lại dữ liệu thay đổi (CDC), giai đoạn này ghi lại các thay đổi đang diễn ra. Phải mất từ ​​1 đến 2 phút để bắt đầu quá trình sao chép.\nRunning (Đang chạy): Sao chép liên tục hiện đang được tiến hành, giúp đồng bộ hóa các hệ thống nguồn và đích. Nó có thể chuyển sang trạng thái dừng dựa trên hành động của người dùng.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.2-tableerrors/6.2.2-troubleshootingsteps/",
	"title": "Các bước tìm lỗi",
	"tags": [],
	"description": "",
	"content": " Khi bạn điều tra bất kỳ sự cố di chuyển DMS nào, hãy bắt đầu điều tra bằng cách xem lại trạng thái hiện tại của tác vụ. Để xem lại trạng thái tác vụ, hãy điều hướng đến Bảng điều khiển AWS DMS và chọn tác vụ DMS từ danh sách. Bạn sẽ thấy trạng thái của từng tác vụ trong danh sách.\nTrạng thái tác vụ DMS Running with errors hoặc Error có nghĩa là một hoặc nhiều bảng trong tác vụ được chuyển sang trạng thái lỗi. Khi DMS đánh dấu bất kỳ bảng nào ở trạng thái lỗi, theo mặc định, bảng đó sẽ bị tạm dừng di chuyển và DMS dừng di chuyển cho bảng đó nhưng tiếp tục di chuyển cho các bảng khác trong phạm vi. Bất cứ khi nào xảy ra lỗi bảng, DMS sẽ ghi lại cảnh báo và thông báo liên quan trong log tác vụ DMS. Do đó, để khắc phục sự cố thêm, hãy mở log tác vụ DMS.\nTheo mặc định, bạn sẽ thấy các thông báo mới nhất trong log tác vụ DMS và nếu bạn đã bật ghi log gỡ lỗi trên tác vụ, có thể sẽ khó tìm thấy các thông báo chính xác liên quan đến lỗi bảng. Trong trường hợp đó, bạn có thể muốn sử dụng tính năng lọc trên log tác vụ DMS để lọc ra các thông báo liên quan. Sau khi lọc các thông báo cụ thể cho các bảng có lỗi, bạn sẽ thấy các thông báo log tương tự như log đã cắt bên dưới:\nCó thể có một số lý do khiến DMS tạm dừng xử lý bảng. Trong nhiều trường hợp, bạn có thể không tìm thấy đủ thông tin từ log tác vụ DMS để khắc phục sự cố thêm. Trong những trường hợp đó, bước tiếp theo tốt nhất là bật ghi log gỡ lỗi trên tác vụ và tải lại bảng đã tạm dừng. Sau khi DMS xử lý lại bảng và đưa bảng đó trở lại chế độ tạm dừng, hãy xem lại log tác vụ DMS mới, trong đó sẽ có log chi tiết hơn.\nTrong kịch bản của chúng tôi, từ log tác vụ DMS, bạn có thể nhận thấy (a) DMS báo lỗi khi cố gắng tải dữ liệu vào \u0026ldquo;DMS_SAMPLE\u0026rdquo;.\u0026ldquo;SPORTING_EVENT_TICKET\u0026rdquo;. (b) Bảng bị treo DMS do không tải được dữ liệu vào bảng mục tiêu. Tuy nhiên, log DMS không đủ kết luận để xác định chính xác nguyên nhân gây ra lỗi và lý do tại sao dữ liệu tải vào bảng mục tiêu không thành công. Tuy nhiên, vui lòng lưu ý dấu thời gian khi bảng được đánh dấu là bị treo.\nBây giờ, để khắc phục sự cố thêm và xác định nguyên nhân gây ra lỗi khi tải dữ liệu vào bảng mục tiêu, chúng tôi sẽ điều tra log cơ sở dữ liệu mục tiêu. Điều hướng đến bảng điều khiển RDS. Từ cột bên trái, chọn Databases rồi nhấp vào cơ sở dữ liệu mục tiêu. Trong kịch bản này, chúng tôi đang sử dụng cơ sở dữ liệu Aurora PostgreSQL làm mục tiêu, do đó chúng tôi sẽ chọn Write Instance (máy ghi) của cụm Aurora. Điều hướng đến tab Log \u0026amp; Event. Bạn có thể thấy nhiều tệp log được tạo trong phần Log của cơ sở dữ liệu mục tiêu. Vui lòng xem lại dấu thời gian mà chúng tôi đã ghi chú từ bước trước và chọn đúng tệp log cơ sở dữ liệu vào thời điểm đó. Trong cùng trường hợp, bạn có thể cần xem lại nhiều hơn một tệp log để xác định các sự kiện trong log cơ sở dữ liệu. Để mở log cơ sở dữ liệu Aurora PostgreSQL, hãy chọn tệp log từ danh sách và nhấp vào nút Xem.\nSau khi mở log cơ sở dữ liệu, hãy lọc các sự kiện trong log liên quan đến bảng ở trạng thái lỗi. Bạn có thể thấy các sự kiện liên quan đến lỗi tải do vi phạm khóa trùng lặp như chúng ta có thể thấy trong log được cắt bên dưới:\nTừ log cơ sở dữ liệu, giờ đây rất rõ ràng tại sao tác vụ DMS lại xảy ra lỗi khi tải bảng. Khi chúng tôi tạo tác vụ DMS lần đầu tiên, tác vụ này đã tải dữ liệu từ nguồn đến cơ sở dữ liệu mục tiêu. Để tạo kịch bản này, khi chúng tôi khởi động lại tác vụ, DMS đã cố gắng tải lại cùng dữ liệu từ nguồn đến mục tiêu. Tuy nhiên, bảng mục tiêu có khóa chính ngăn không cho các bản ghi trùng lặp được tải và do đó đã từ chối các bản ghi, cuối cùng đã không thực hiện được lệnh sao chép do DMS sử dụng để tải dữ liệu vào cơ sở dữ liệu Aurora PostgreSQL. Do lệnh sao chép này không thành công, DMS đã tạm dừng việc tải bảng đó và chuyển trạng thái tác vụ thành Lỗi.\n"
},
{
	"uri": "/vi/2-selectsource/2.1-oracle/2.1.2-configsrcdb/",
	"title": "Cấu hình CSDL nguồn",
	"tags": [],
	"description": "",
	"content": "Để sử dụng Oracle làm nguồn cho AWS Database Migration Service (AWS DMS), trước tiên bạn phải cung cấp quyền đọc và ghi trên cơ sở dữ liệu Oracle cho một tài khoản người dùng DMS.\nBạn cũng cần đảm bảo rằng chế độ ArchiveLog được bật để cung cấp thông tin cho LogMiner. AWS DMS sử dụng LogMiner để đọc thông tin từ log lưu trữ để AWS DMS có thể ghi lại các thay đổi.\nĐể AWS DMS đọc được thông tin này, hãy đảm bảo rằng log lưu trữ được lưu giữ trên máy chủ cơ sở dữ liệu miễn là AWS DMS yêu cầu. Việc lưu giữ log lưu trữ trong 24 giờ thường là đủ.\nĐể ghi lại dữ liệu thay đổi, AWS DMS yêu cầu bật ghi log bổ sung cấp cơ sở dữ liệu trên cơ sở dữ liệu nguồn của bạn. Việc này đảm bảo rằng LogMiner có thông tin tối thiểu để hỗ trợ nhiều cấu trúc bảng khác nhau như bảng được nhóm lại và được sắp xếp theo chỉ mục.\nTương tự như vậy, bạn cần bật ghi log bổ sung cấp bảng cho mỗi bảng mà bạn muốn di chuyển.\nNhấp vào biểu tượng Bảng tính SQL trong Oracle SQL Developer, sau đó kết nối với cơ sở dữ liệu Oracle nguồn.\nTiếp theo, chép, dán và thực thi các câu lệnh bên dưới để cấp các đặc quyền sau cho người dùng AWS DMS để truy cập điểm cuối Oracle nguồn:\nGRANT CREATE SESSION to DMS_USER; GRANT SELECT ANY TABLE to DMS_USER; GRANT SELECT ANY TRANSACTION to DMS_USER; GRANT SELECT on DBA_TABLESPACES to DMS_USER; --GRANT SELECT ON any-replicated-table to DMS_USER; ---has issues GRANT EXECUTE on rdsadmin.rdsadmin_util to DMS_USER; -- For Oracle 12c only: GRANT LOGMINING to DMS_USER; exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_VIEWS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_TAB_PARTITIONS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_INDEXES\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_OBJECTS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_TABLES\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_USERS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_CATALOG\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_CONSTRAINTS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_CONS_COLUMNS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_TAB_COLS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_IND_COLUMNS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_LOG_GROUPS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$ARCHIVED_LOG\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$LOG\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$LOGFILE\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$DATABASE\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$THREAD\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$PARAMETER\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$NLS_PARAMETERS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$TIMEZONE_NAMES\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$TRANSACTION\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$CONTAINERS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;DBA_REGISTRY\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;OBJ$\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ALL_ENCRYPTED_COLUMNS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$LOGMNR_LOGS\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$LOGMNR_CONTENTS\u0026#39;,\u0026#39;DMS_USER\u0026#39;,\u0026#39;SELECT\u0026#39;); exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;DBMS_LOGMNR\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;EXECUTE\u0026#39;); -- (as of Oracle versions 12.1 and later) exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;REGISTRY$SQLPATCH\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); -- (for Amazon RDS Active Dataguard Standby (ADG)) exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;V_$STANDBY_LOG\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); -- (for transparent data encryption (TDE)) exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;ENC$\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;SELECT\u0026#39;); -- (for validation with LOB columns) exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;DBMS_CRYPTO\u0026#39;, \u0026#39;DMS_USER\u0026#39;, \u0026#39;EXECUTE\u0026#39;); -- (for binary reader) exec rdsadmin.rdsadmin_util.grant_sys_object(\u0026#39;DBA_DIRECTORIES\u0026#39;,\u0026#39;DMS_USER\u0026#39;,\u0026#39;SELECT\u0026#39;); ---archive log \u0026amp; supplement log for cdc exec rdsadmin.rdsadmin_util.set_configuration(\u0026#39;archivelog retention hours\u0026#39;,24); exec rdsadmin.rdsadmin_util.alter_supplemental_logging(\u0026#39;ADD\u0026#39;); exec rdsadmin.rdsadmin_util.alter_supplemental_logging(\u0026#39;ADD\u0026#39;,\u0026#39;PRIMARY KEY\u0026#39;); alter table dms_sample.nfl_stadium_data add supplemental log data (ALL) columns; alter table dms_sample.mlb_data add supplemental log data (ALL) columns; alter table dms_sample.nfl_data add supplemental log data (ALL) columns; Tóm lại Bài thực hành này trình bày các bước để thiết lập cơ sở dữ liệu Oracle làm cơ sở dữ liệu nguồn cho quá trình dịch chuyển. Các bước tiếp theo bao gồm chọn và làm theo các bước để dịch chuyển dữ liệu Oracle của bạn đến CSDL đích.\n"
},
{
	"uri": "/vi/2-selectsource/2.2-sqlsrv/2.2.2-configsrcdb/",
	"title": "Cấu hình CSDL nguồn - MS SQL Server",
	"tags": [],
	"description": "",
	"content": "\rKhi dịch chuyển cơ sở dữ liệu Microsoft SQL Server của bạn bằng AWS DMS, bạn có thể chọn chỉ di chuyển dữ liệu hiện có, di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra hoặc di chuyển dữ liệu hiện có và sử dụng chức năng sao lưu dữ liệu đang thay đổi (Change Data Capture - CDC) để sao chép các thay đổi đang diễn ra. Việc dịch chuyển dữ liệu đã có không yêu cầu bất kỳ cấu hình nào trên cơ sở dữ liệu SQL Server nguồn. Tuy nhiên, để di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra, bạn cần bật MS-REPLICATION hoặc MS-CDC.\nVới SQL Server Managment studio, bạn sẽ thực thi một tập lệnh SQL sẽ cấu hình cơ sở dữ liệu SQL Server nguồn để sao chép. Trước tiên, hãy đảm bảo có cửa sổ truy vấn nếu không, hãy nhấp vào biểu tượng New query phía trên nút thực thi để mở cửa sổ truy vấn mới.\nSao chép các lệnh SQL bên dưới bằng cách sử dụng nút sao chép ở góc trên bên phải của khối mã, sau đó dán vào trình soạn thảo truy vấn SQL Server Management Studio và thực thi toàn bộ khối mã (Ctrl + A đối với người dùng Windows để tô sáng toàn bộ khối) và nhấp vào nút Execute để thực thi.\nChúng tôi sẽ chạy bản sao lưu trên cơ sở dữ liệu cùng một số tập lệnh khác nên sẽ mất khoảng 5-12 phút để chạy từ đầu đến cuối. Sau khi bạn bắt đầu tập lệnh, vui lòng tiến hành bước tiếp theo và quay lại sau vài phút để đảm bảo hoàn tất. Bạn có thể vào tab tin nhắn để theo dõi tiến trình.\n--Set master database context use [master] GO --Add the awssct login to the sysadmin server role - required for replication ALTER SERVER ROLE [sysadmin] ADD MEMBER [dbadmin] GO --Set the recovery model to full for dms_sample - required for replication ALTER DATABASE [dms_sample] SET RECOVERY FULL WITH NO_WAIT GO BACKUP DATABASE dms_sample TO DISK = \u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\Backup\\dms_sample-fullbkup.bak\u0026#39; WITH FORMAT, COMPRESSION, STATS = 5; GO --Configure this SQL Server as its own distributor exec sp_adddistributor @distributor = @@SERVERNAME, @password = N\u0026#39;Password1\u0026#39; exec sp_adddistributiondb @database = N\u0026#39;distribution\u0026#39;, @data_folder = N\u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\u0026#39;, @log_folder = N\u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\DATA\u0026#39;, @log_file_size = 2, @min_distretention = 0, @max_distretention = 72, @history_retention = 48, @security_mode = 1 GO RECONFIGURE go --Change context to the distribution database use [distribution] GO --Configure replication if (not exists (select * from sysobjects where name = \u0026#39;UIProperties\u0026#39; and type = \u0026#39;U \u0026#39;)) create table UIProperties(id int) if (exists (select * from ::fn_listextendedproperty(\u0026#39;SnapshotFolder\u0026#39;, \u0026#39;user\u0026#39;, \u0026#39;dbo\u0026#39;, \u0026#39;table\u0026#39;, \u0026#39;UIProperties\u0026#39;, null, null))) EXEC sp_updateextendedproperty N\u0026#39;SnapshotFolder\u0026#39;, N\u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\repldata\u0026#39;, \u0026#39;user\u0026#39;, dbo, \u0026#39;table\u0026#39;, \u0026#39;UIProperties\u0026#39; else EXEC sp_addextendedproperty N\u0026#39;SnapshotFolder\u0026#39;, N\u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\repldata\u0026#39;, \u0026#39;user\u0026#39;, dbo, \u0026#39;table\u0026#39;, \u0026#39;UIProperties\u0026#39; GO RECONFIGURE go exec sp_adddistpublisher @publisher = @@SERVERNAME, @distribution_db = N\u0026#39;distribution\u0026#39;, @security_mode = 1, @working_directory = N\u0026#39;C:\\Program Files\\Microsoft SQL Server\\MSSQL16.MSSQLSERVER\\MSSQL\\repldata\u0026#39;, @trusted = N\u0026#39;false\u0026#39;, @thirdparty_flag = 0, @publisher_type = N\u0026#39;MSSQLSERVER\u0026#39; GO /* Oct 2024 temp script additional ****** Temporary Script to create publication and add articles for purpose of Full Load and CDC DMS task to address issue with SQL Server 2022 CU2+ Oct-2024 hopefully by end of 2024 we can remove it INSTRUCTIONS FOR USE 1. Set the session context to the DB you wish to migrate. 2. If you wish to exclude specific user tables that would normally be included, these table names can be added in the field marked by the string \u0026#34;ExplicitlyExcludedTables\u0026#34;. The script contains logic to automatically exclude tables without Primary Keys, system tables and DMS related tables. */ use [dms_sample] go --- Phase 1: Create Publication --- Declare variables DECLARE @db_name NVARCHAR(255); SET @db_name = DB_NAME(); --Set DB for Replication IF not exists ( SELECT 1 FROM sysdatabases d where d.dbid=db_id() and (category \u0026amp; 1)\u0026lt;\u0026gt;0 ) BEGIN EXEC sp_replicationdboption @dbname = @db_name, @optname = \u0026#39;publish\u0026#39;, @value = \u0026#39;true\u0026#39; END ---Declare variables DECLARE @database_id INT; DECLARE @publication_name NVARCHAR(255); DECLARE @publication_description NVARCHAR(MAX); DECLARE @sql_sp_addarticle NVARCHAR(MAX); DECLARE @sql_sp_articlefilter NVARCHAR(MAX); DECLARE @article_name NVARCHAR(255); DECLARE @article_filter_name NVARCHAR(255); DECLARE @schema_name NVARCHAR(128); DECLARE @table_name NVARCHAR(128); DECLARE @object_id NVARCHAR(128); DECLARE @instance_name NVARCHAR(255); SET @instance_name = @@servername; SET @database_id = (SELECT DB_ID()); IF @database_id\u0026lt;10 BEGIN SET @publication_name = CONCAT(\u0026#39;AR_PUBLICATION_0000\u0026#39;,@database_id); SET @article_name = CONCAT(\u0026#39;AR_ARTICLE_0000\u0026#39;,@database_id); SET @article_filter_name = CONCAT(\u0026#39;AR_ARTICLE_0000\u0026#39;,@database_id); END ELSE IF @database_id\u0026gt;=10 and @database_id\u0026lt;100 BEGIN SET @publication_name = CONCAT (\u0026#39;AR_PUBLICATION_000\u0026#39;,@database_id); SET @article_name = CONCAT(\u0026#39;AR_ARTICLE_000\u0026#39;,@database_id); SET @article_filter_name = CONCAT(\u0026#39;AR_ARTICLE_000\u0026#39;,@database_id); END ELSE IF @database_id\u0026gt;=100 and @database_id\u0026lt;1000 BEGIN SET @publication_name = CONCAT (\u0026#39;AR_PUBLICATION_00\u0026#39;,@database_id); SET @article_name = CONCAT(\u0026#39;AR_ARTICLE_00\u0026#39;,@database_id); SET @article_filter_name = CONCAT(\u0026#39;AR_ARTICLE_00\u0026#39;,@database_id); END ELSE IF @database_id\u0026gt;=1000 and @database_id\u0026lt;10000 BEGIN SET @publication_name = CONCAT (\u0026#39;AR_PUBLICATION_0\u0026#39;,@database_id); SET @article_name = CONCAT(\u0026#39;AR_ARTICLE_0\u0026#39;,@database_id); SET @article_filter_name = CONCAT(\u0026#39;AR_ARTICLE_0\u0026#39;,@database_id); END ELSE BEGIN SET @publication_name = CONCAT (\u0026#39;AR_PUBLICATION_\u0026#39;,@database_id); SET @article_name = CONCAT(\u0026#39;AR_ARTICLE_\u0026#39;,@database_id); SET @article_filter_name = CONCAT(\u0026#39;AR_ARTICLE_\u0026#39;,@database_id); END; SET @publication_description = CONCAT(\u0026#39;AWS Schema Conversion Tool DMS Agent: Anonymous Transactional publication for Database: \u0026#39;, @db_name,\u0026#39; from Publisher: \u0026#39;, @instance_name,\u0026#39;.\u0026#39;); if not exists (select name from syspublications where name=@publication_name) exec sp_addpublication @publication = @publication_name, @description = @publication_description, @sync_method = N\u0026#39;native\u0026#39;, @retention = 1, @allow_push = N\u0026#39;true\u0026#39;, @allow_pull = N\u0026#39;true\u0026#39;, @allow_anonymous = N\u0026#39;true\u0026#39;, @enabled_for_internet = N\u0026#39;false\u0026#39;, @snapshot_in_defaultfolder = N\u0026#39;true\u0026#39;, @compress_snapshot = N\u0026#39;false\u0026#39;, @ftp_port = 21, @ftp_login = N\u0026#39;anonymous\u0026#39;, @allow_subscription_copy = N\u0026#39;false\u0026#39;, @add_to_active_directory = N\u0026#39;false\u0026#39;, @repl_freq = N\u0026#39;continuous\u0026#39;, @status = N\u0026#39;active\u0026#39;, @independent_agent = N\u0026#39;true\u0026#39;, @immediate_sync = N\u0026#39;true\u0026#39;, @allow_sync_tran = N\u0026#39;false\u0026#39;, @autogen_sync_procs = N\u0026#39;false\u0026#39;, @allow_queued_tran = N\u0026#39;false\u0026#39;, @allow_dts = N\u0026#39;false\u0026#39;, @replicate_ddl = 1, @allow_initialize_from_backup = N\u0026#39;false\u0026#39;, @enabled_for_p2p = N\u0026#39;false\u0026#39;, @enabled_for_het_sub = N\u0026#39;false\u0026#39;; --- Phase 2 : Add articles to Publication -- Create a Temporary table that has all the tables from sql server and exclude any system related tables pertaining to DMS, as well as user defined exclusions. select SCHEMA_NAME(uid) as TABLE_SCHEMA, name as TABLE_NAME into #entire_list from sys.sysobjects where type in (\u0026#39;U\u0026#39;) and (category=0 or category = 32) and objectproperty(id, \u0026#39;TableHasPrimaryKey\u0026#39;) =1 and objectproperty( id , \u0026#39;IsSystemTable\u0026#39; ) =0 and name not like \u0026#39;awsdms_changes%\u0026#39; and name not like \u0026#39;awsdms_apply%\u0026#39; and name not like \u0026#39;awsdms_truncation%\u0026#39; and name not like \u0026#39;awsdms_cdc_%awsdms_full_load_exceptions%\u0026#39; and name not in (\u0026#39;awsdms_audit_table\u0026#39;,\u0026#39;awsdms_status\u0026#39;,\u0026#39;awsdms_suspended_tables\u0026#39;,\u0026#39;awsdms_history\u0026#39;,\u0026#39;awsdms_validation_failure\u0026#39;) and name not in (\u0026#39;\u0026#39;) --ExplicitlyExcludedTables order by TABLE_SCHEMA,TABLE_NAME --- Tạo bảng tạm chứa tất cả các bảng đã nằm trong bản công bố SQL Server select A.source_owner as TABLE_SCHEMA, A.source_object as TABLE_NAME INTO #All_published FROM distribution.dbo.MsArticles AS A INNER JOIN distribution.dbo.MSpublications AS P ON A.publication_id=P.publication_id and P.publication =@publication_name order by TABLE_SCHEMA,TABLE_NAME --- Tìm bảng trong csdl nhưng không thêm vào quá trình công bố các giao dịch select A.TABLE_SCHEMA, A.TABLE_NAME into #filtered_list FROM ( select TABLE_SCHEMA,TABLE_NAME from #entire_list EXCEPT select TABLE_SCHEMA, TABLE_NAME from #All_published ) A --- Khai báo con trỏ DECLARE add_article_publication CURSOR FOR select obj.name AS TABLE_NAME, obj.object_id as OBEJCT_ID,sch.name AS SCHEMA_NAME from sys.objects obj, sys.schemas sch where sch.schema_id = obj.schema_id and sch.name in (select TABLE_SCHEMA from #filtered_list) and obj.name in (select TABLE_NAME from #filtered_list) --- Mở con trỏ và thêm article vào publication OPEN add_article_publication; FETCH NEXT FROM add_article_publication INTO @table_name, @object_id, @schema_name; WHILE @@FETCH_STATUS = 0 BEGIN SET @sql_sp_addarticle =\u0026#39;exec sys.sp_addarticle @publication = N\u0026#39;\u0026#39;\u0026#39; + @publication_name + \u0026#39;\u0026#39;\u0026#39;, @article = N\u0026#39;\u0026#39;\u0026#39; + @article_name + \u0026#39;_\u0026#39; + @object_id + \u0026#39;\u0026#39;\u0026#39;, @source_owner = N\u0026#39;\u0026#39;\u0026#39; + @schema_name + \u0026#39;\u0026#39;\u0026#39;, @source_object = N\u0026#39;\u0026#39;\u0026#39; + @table_name + \u0026#39;\u0026#39;\u0026#39;, @type = N\u0026#39;\u0026#39;logbased\u0026#39;\u0026#39;, @creation_script = N\u0026#39;\u0026#39;\u0026#39;\u0026#39;, @description = N\u0026#39;\u0026#39;\u0026#39;\u0026#39;, @schema_option = 0x050D3, @pre_creation_cmd = N\u0026#39;\u0026#39;drop\u0026#39;\u0026#39;, @identityrangemanagementoption = N\u0026#39;\u0026#39;none\u0026#39;\u0026#39; ,@status = 16, @vertical_partition = N\u0026#39;\u0026#39;false\u0026#39;\u0026#39;, @ins_cmd = N\u0026#39;\u0026#39;CALL [sp_MSins_\u0026#39; + @table_name + \u0026#39;]\u0026#39;\u0026#39;,@del_cmd = N\u0026#39;\u0026#39;CALL [sp_MSdel_\u0026#39; +@table_name + \u0026#39;]\u0026#39;\u0026#39;,@upd_cmd = N\u0026#39;\u0026#39;MCALL [sp_MSupd_\u0026#39; + @table_name + \u0026#39;]\u0026#39;\u0026#39;,@filter_clause = N\u0026#39;\u0026#39;(1=0)\u0026#39;\u0026#39;\u0026#39; EXEC sp_executesql @sql_sp_addarticle SET @sql_sp_articlefilter = \u0026#39;exec sys.sp_articlefilter @publication = N\u0026#39;\u0026#39;\u0026#39;+ @publication_name + \u0026#39;\u0026#39;\u0026#39; , @article = N\u0026#39;\u0026#39;\u0026#39;+ @article_name + \u0026#39;_\u0026#39; + @object_id + \u0026#39;\u0026#39;\u0026#39; , @filter_name = N\u0026#39;\u0026#39;\u0026#39; + @article_filter_name + \u0026#39;_\u0026#39; + @object_id + \u0026#39;\u0026#39;\u0026#39; , @filter_clause = N\u0026#39;\u0026#39;(1=0)\u0026#39;\u0026#39;, @force_invalidate_snapshot = 1, @force_reinit_subscription = 1 \u0026#39; EXEC sp_executesql @sql_sp_articlefilter FETCH NEXT FROM add_article_publication INTO @table_name, @object_id, @schema_name; END --- Dọn dẹp - xóa bảng tạm và con trỏ CLOSE add_article_publication; DEALLOCATE add_article_publication; DROP TABLE #filtered_list DROP TABLE #All_published DROP TABLE #entire_list Execute the script above\nSummary Bài thực hành này trình bày các bước để thiết lập cơ sở dữ liệu SQL Server làm nguồn cho Việc dịch chuyển cơ sở dữ liệu. Các bước tiếp theo là chọn mục tiêu của bạn và làm theo các bước để di chuyển dữ liệu SQL Server của bạn đến mục tiêu đó trong phần đó.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.2-repinstance/",
	"title": "Create a replication instance",
	"tags": [],
	"description": "",
	"content": "Lược đồ sau minh họa góc nhìn thượng tầng của quá trình di dời dữ liệu.\nĐiều hướng đến Bảng điều khiển DMS hoặc gõ DMS vào thanh tìm kiếm ở góc trên bên trái của màn hình.\nTrong menu bên trái, nhấp vào Replication instances. Điều này sẽ mở màn hình phiên bản sao chép.\nLưu ý rằng chúng tôi đã tạo sẵn một phiên bản sao chép DMS cho bạn, vì vậy bạn có thể bỏ qua phần này hoặc nếu bạn muốn trải nghiệm việc xây dựng một phiên bản sao chép DMS, hãy tiếp tục.\nNhấp vào nút Create replication instance ở góc trên bên phải.\nNhập thông tin sau cho Phiên bản Sao chép. Sau đó, nhấp vào nút Tạo.\nTham số Giá trị Name DMSReplication-myinitials Descriptive Amazon Resource name(ARN) leave blank Description (Tùy chọn) Replication server for Database Migration hoặc bất kỳ miêu tả nào Instance Class **dms.c5.xlarge** Engine version Giữ nguyên giá trị mặc định High Availability/Multi-AZ Dev or Test workload(Single-AZ) Allocated storage (GB) 50 VPC VPC ID với DMSVpc trong tên - Cần mở danh sách Publicly accessible No/unchecked Advanced -\u0026gt; VPC Security Group(s) default Lưu ý 1: Nếu bạn gặp lỗi \u0026ldquo;IAM Role arn aws iam ########## role dms-vpc-role không được cấu hình đúng\u0026rdquo;, hãy nhấn Hủy và lặp lại các bước trên, nó sẽ hoạt động ở lần thử thứ hai.\nLưu ý 2: Việc tạo máy sao chép sẽ mất vài phút. Trong khi chờ đợi máy sao chép này được tạo, chúng ta sẽ sử dụng máy đã được tạo cho bạn như một phần của quá trình xây dựng môi trường đã có sẵn.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/",
	"title": "Data Migration",
	"tags": [],
	"description": "",
	"content": "Phần này sẽ trình bày cách bạn có thể sử dụng Dịch vụ Dịch chuyển Cơ sở Dữ liệu AWS (AWS Database Migration Service - DMS) để di chuyển dữ liệu từ cơ sở dữ liệu nguồn đến cơ sở dữ liệu đích Amazon Aurora (MySQL). Ngoài ra, bạn sẽ sử dụng AWS DMS để liên tục sao chép các thay đổi trong cơ sở dữ liệu từ cơ sở dữ liệu nguồn đến cơ sở dữ liệu đích.\nAWS DMS không di chuyển các chỉ mục phụ, chuỗi, giá trị mặc định, thủ tục lưu trữ, bộ kích hoạt, từ đồng nghĩa, chế độ xem và các đối tượng lược đồ khác không liên quan cụ thể đến việc di chuyển dữ liệu. Để di chuyển những đối tượng này đến Aurora MySQL, chúng tôi đã sử dụng Công cụ Chuyển đổi Lược đồ AWS trong phần trước.\n"
},
{
	"uri": "/vi/4-serverless/4.2-scaletesting/4.2.2-monitorupscale/",
	"title": "Giám sát sự kiện mở rộng quy mô",
	"tags": [],
	"description": "",
	"content": "Khi tải DML được tạo trên cơ sở dữ liệu nguồn, hãy theo dõi bảng điều khiển AWS DMS và bảng thông tin CloudWatch để biết mức sử dụng dung lượng DMS. Khi tải vượt quá 80%, bạn sẽ thấy sự kiện Scale-up được kích hoạt.\nBiểu đồ sử dụng dung lượng Để truy cập số liệu CloudWatch cho DMS Serverless Replication, hãy điều hướng đến bảng điều khiển AWS DMS, chọn \u0026ldquo;Serverless replications\u0026rdquo; trong thanh bên trái, chọn bản sao không có máy chủ của bạn và tìm biểu đồ Capacity Utilization trong tab Monitoring.\nBạn có thể xem chi tiết hơn bằng cách nhấp vào Maximizing Capacity Utilization.\nKhi tải vượt quá 80%, bạn có thể kiểm tra nhật ký sau 10 phút để xác nhận rằng sự kiện đã kích hoạt việc mở rộng DCU.\nNhư vậy, chúng ta đã kết thúc bài thực hành về Mở rộng quy mô DMS Serverless. Vui lòng chuyển sang bài thực hành tiếp theo để tìm hiểu cách theo dõi sự kiện thu hẹp quy mô.\n"
},
{
	"uri": "/vi/4-serverless/4.2-scaletesting/",
	"title": "Kiểm thử hoạt động mở rộng quy mô của DMS Serverless",
	"tags": [],
	"description": "",
	"content": "Trong phòng thí nghiệm này, bạn sẽ khám phá cách AWS DMS Serverless có thể tự động mở rộng quy mô công suất dựa trên tải từ hệ thống nguồn. Mục tiêu chính của bài kiểm tra tải này là chứng minh khả năng mở rộng quy mô thích ứng của DMS Serverless trong các tình huống thực tế. Trong môi trường sản xuất, khối lượng công việc di chuyển dữ liệu có thể thay đổi đáng kể, với các giai đoạn hoạt động cao đòi hỏi nhiều tài nguyên hơn và các giai đoạn hoạt động thấp khi có thể giảm thiểu tài nguyên để tối ưu hóa chi phí. Tính năng mở rộng quy mô động này giúp đảm bảo rằng quá trình di chuyển diễn ra suôn sẻ, ngay cả khi tải trên hệ thống nguồn dao động, mà không cần can thiệp thủ công để điều chỉnh công suất.\nKiểm tra tải nền tảng truyền thông xã hội với AWS DMS Serverless Hãy tưởng tượng bạn đang quản lý một nền tảng truyền thông xã hội nơi người dùng có thể đăng nội dung, bình chọn hoặc bỏ phiếu cho bài đăng và tương tác với người khác. Nền tảng này trải qua các giai đoạn hoạt động thông thường, nhưng trong thời gian cao điểm — chẳng hạn khi một bài đăng lan truyền hoặc một sự kiện lớn diễn ra — lưu lượng truy cập tăng đột biến. Các bài đăng được tạo, người dùng tương tác với nội dung và lượt bình chọn bắt đầu đổ về.\nĐể xử lý các đợt tăng đột biến này, hệ thống cần mở rộng tài nguyên một cách nhanh chóng và hiệu quả. Đó là lúc AWS DMS Serverless phát huy tác dụng. Trong phòng thí nghiệm này, chúng tôi sẽ mô phỏng một tình huống như vậy bằng cách tạo ra một lượng lớn hoạt động dữ liệu trong trung tâm dữ liệu tại chỗ của bạn và sao chép dữ liệu đó sang AWS để xử lý thêm. Chúng tôi sẽ quan sát cách DMS Serverless phản hồi với tải ngày càng tăng và tự động mở rộng dung lượng của nó.\n1. Tạo Người dùng, Bài đăng và Lượt bình chọn Chúng tôi sẽ mô phỏng một trang mạng xã hội nhộn nhịp bằng cách tạo các bảng để biểu diễn Người dùng, Bài đăng và Lượt bình chọn:\nBảng Users (người dùng) sẽ lưu trữ dữ liệu như danh tiếng, thông tin chi tiết về hồ sơ và hoạt động bình chọn.\nBảng Posts (Bài đăng) sẽ chứa nội dung từ câu hỏi đến câu trả lời, với các thuộc tính như điểm và lượt xem.\nBảng Votes (bình chọn) sẽ ghi lại các tương tác của người dùng với các bài đăng này, bao gồm các lượt upvote, downvote hoặc các hành động vote đặc biệt như tiền thưởng.\nDữ liệu này sẽ được tạo trong trung tâm dữ liệu cục bộ, mô phỏng môi trường thực tế của ứng dụng doanh nghiệp trước khi di chuyển lên đám mây.\n2. Mô phỏng sự gia tăng lưu lượng truy cập Một quy trình được lưu trữ sẽ tạo ra hàng nghìn posts, users và votes theo các khoảng thời gian ngẫu nhiên, mô phỏng lưu lượng truy cập không thể đoán trước của một nền tảng truyền thông xã hội trực tiếp:\nChúng tôi sẽ mô phỏng việc tạo posts và tương tác với chúng của users, bao gồm cách họ upvote và downvote nội dung.\nKhi nền tảng trở nên bận rộn hơn, tải trên hệ thống tăng lên. Chúng tôi sẽ kích hoạt nhiều phiên hoạt động cao, mô phỏng giờ cao điểm.\nKhi lưu lượng truy cập này tăng lên trong hệ thống tại chỗ, AWS DMS Serverless sẽ sao chép dữ liệu này theo thời gian thực vào AWS Cloud, đảm bảo rằng thông tin mới nhất có sẵn để xử lý thêm trong các dịch vụ AWS như phân tích hoặc học máy.\n3. Sao chép dữ liệu vào AWS Dữ liệu được tạo tại chỗ sẽ được sao chép liền mạch vào AWS Cloud bằng DMS Serverless. DMS Serverless đảm bảo tính khả dụng cao, sao chép theo thời gian thực và tự động mở rộng quy mô, giúp giải pháp này lý tưởng để xử lý tải thay đổi.\n4. Giám sát phản hồi của hệ thống DMS Serverless sẽ tự động mở rộng quy mô dung lượng (DCU) khi khối lượng xử lý trên hệ thống nguồn tăng lên. Điều này đảm bảo rằng quy trình di chuyển có thể xử lý sự gia tăng hoạt động mà không bị tắc nghẽn hoặc chậm lại, bất kể khối lượng xử lý trên hệ thống tại chỗ là bao nhiêu.\n5. Thu hẹp quy mô khi lưu lượng truy cập giảm Khi khối lượng xử lý giảm — giống như khi bài đăng lan truyền nguội đi và nền tảng trở lại bình thường—DMS Serverless sẽ tự động giảm dung lượng, chứng minh tính đàn hồi của điện toán không máy chủ và tối ưu hóa chi phí.\nBài thực hành sẽ mất khoảng 40-50 phút để hoàn thành và sẽ cung cấp cho bạn trải nghiệm thực tế với khả năng tự động điều chỉnh quy mô của DMS Serverless và sao chép theo thời gian thực từ hệ thống tại chỗ sang AWS.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.2-tableerrors/",
	"title": "Lỗi bảng trong tác vụ DMS",
	"tags": [],
	"description": "",
	"content": "Lỗi bảng trong tác vụ DMS Trong phòng thí nghiệm này, chúng ta sẽ thảo luận về tình huống trong đó tác vụ DMS Full-Load-only gặp lỗi. Trạng thái tác vụ chuyển sang Lỗi.\n"
},
{
	"uri": "/vi/2-selectsource/2.2-sqlsrv/",
	"title": "Nguồn SQL Server",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn đã hoàn tất thiết lập Bắt đầu, bạn đã sẵn sàng di chuyển cơ sở dữ liệu mẫu.\nHướng dẫn từng bước này trình bày cách bạn có thể sử dụng AWS Database Migration Service (DMS) để di chuyển dữ liệu sang cơ sở dữ liệu SQL Server đang chạy trên Amazon EC2. Ngoài ra, bạn sẽ cấu hình AWS DMS để ghi lại các thay đổi dữ liệu (CDC) trên cơ sở dữ liệu nguồn và sao chép chúng trên cơ sở dữ liệu đích.\nMôi trường cho bài thực hành này bao gồm:\nMột máy ảo EC2 lưu trữ các công cụ được sử dụng trong bài thực hành này như SQL Server Management Studio (SSMS) hoặc Oracle SQL Developer.\nMột cơ sở dữ liệu SQL Server đang chạy trên máy ảo EC2 mà bạn sẽ RDP vào\nMột CSDL đích cho DMS\nTrong bài tập này, bạn thực hiện các tác vụ sau:\nKết nối với Phiên bản EC2\nMở SQL Server Management Studio\nCấu hình Cơ sở dữ liệu nguồn\nTóm tắt\n"
},
{
	"uri": "/vi/2-selectsource/",
	"title": "Select your DMS source",
	"tags": [],
	"description": "",
	"content": "Đầu tiên chúng ta sẽ chọn cơ sở dữ liệu nguồn và thực hiện các hoạt động liên quan đến việc chuẩn bị nguồn. Các tùy chọn cơ sở dữ liệu nguồn cho workshop của chúng ta bao gồm Oracle và SQL Server.\nTrước khi tiếp tục, hãy đảm bảo bạn đã hoàn thành các hướng dẫn trong phần Mở đầu trước chương này.\nĐể bắt đầu hội thảo, hãy chọn một trong các CSDL nguồn/mô-đun sau cho hội thảo hôm nay:\nNguồn dạng Oracle Nguồn dạng SQL Server "
},
{
	"uri": "/vi/1-start/1.2-keypair/",
	"title": "Tạo cặp khóa",
	"tags": [],
	"description": "",
	"content": "Ở bước này, bạn sẽ tạo một cặp khóa EC2 để kết nối vào máy ảo EC2\nĐiều hướng đến phần Key Pair trong bảng điều khiển EC2. Đảm bảo bạn đang ở cùng vùng bạn đã chọn ở bước trước. Sau đó, nhấp vào nút Create Key Pair.\nĐặt tên cho cặp khóa là DMSKeyPair (hoặc bất kỳ tên nào bạn muốn đặt), sau đó nhấp vào Create. Tại thời điểm này, trình duyệt của bạn sẽ tải xuống tệp có tên DMSKeyPair.pem. Hãy lưu và nhớ vị trí tệp này. Bạn sẽ cần nó để hoàn tất các bài thực hành trong workshop này.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.1-schemaconv/3.1.2-createproject/",
	"title": "Tạo dự án trong SCT",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn đã cài đặt Công cụ SCT, bước tiếp theo là tạo Dự án di chuyển cơ sở dữ liệu bằng công cụ này.\nXác định CSDL nguồn Trong Schema Conversion Tool, nếu trình hướng dẫn dự án mới không khởi động, vui lòng khởi động bằng cách vào File \u0026gt; New Project Wizard góc trên bên trái. Khi ở chế độ Project wizard, vui lòng nhập các giá trị sau vào ghi chú biểu mẫu mà bạn cần điều chỉnh cho cơ sở dữ liệu nguồn mà bạn đã chọn trong văn bản bên dưới, sau đó nhấp vào Next.\nTham số Giá trị Project Name AWS Schema Conversion Tool Source DB to Aurora MySQL (or Aurora PostgresSQL) Location C:\\Users\\Administrator\\AWS Schema Conversion Tool Type Radio Button Nhấp/Chọn SQL Database Source Database Engine Microsoft SQL Server hoặc Oracle \u0026ldquo;I want to\u0026rdquo; Radio Button Nhấp/Chọn I want to switch engines and optimize for the cloud Chỉ định cấu hình cơ sở dữ liệu nguồn trong biểu mẫu, Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần vào Secrets Manager và mở DMSDBSecret và hiển thị giá trị mật khẩu SQLServer. Nó cũng nằm trên tab đầu ra của Cloudformation Stack (SQLServerPassword) đầu tiên và nhấp vào Test Connection. Sau khi kết nối được kiểm tra thành công, hãy nhấp vào Next.\nTùy thuộc vào cơ sở dữ liệu nguồn của bạn, hãy chọn một trong các lộ trình sau để thực hiện theo các bước.\nOracle Source Information Expand to see\rTham số Giá trị Connection Name (if there) Oracle Source Type SID Server Name \u0026lt; SourceOracleEndpoint (you can find this in Cloudformation Output tab or goto RDS service in Server Port 1521 Oracle SID ORACLEDB User Name dbadmin Password See Cloudformation Output tab \u0026amp; DMSDBSecretP or look it up in AWS Secrets Manager for Oracle Use SSL Unchecked Store Password Checked Oracle Driver Path C:\\Users\\Administrator\\Desktop\\DMS Workshop\\JDBC\\ojdbc11.jar MS SQL Server Source Information Expand to see\rTham số Giá trị Connection Name (if there) SQL Server Source Project Name localhost Server Port 1433 Instance Name localhost Authentication SQL Server Authentication User Name dbadmin Password Xem tab Đầu ra của Cloudformation \u0026amp; DMSDBSecretPSQLSERVER hoặc tra cứu trong AWS Secrets Manager cho SQL Server Use SSL Unchecked Store Password Checked Microsoft SQL Server Driver Path C:\\Users\\Administrator\\Desktop\\DMS Workshop\\JDBC\\mssql-jdbc-12.6.1.jre11.jar Chọn cơ sở dữ liệu dms_sample, sau đó nhấp vào Next. (Lưu ý: khi bạn nhấp vào cơ sở dữ liệu, thanh màu xám/xanh lam sẽ xuất hiện và nút Next sẽ được bật)\nXem lại báo cáo kiểm tra khả năng dịch chuyển SCT sẽ kiểm tra chi tiết tất cả các đối tượng trong lược đồ của cơ sở dữ liệu nguồn. Nó sẽ tự động chuyển đổi nhiều nhất có thể và cung cấp thông tin chi tiết về các mục mà nó không thể chuyển đổi. Nếu bạn cuộn xuống báo cáo, bạn sẽ thấy các cơ sở dữ liệu mục tiêu cụ thể như bên dưới cho SQL Server sang Aurora MySQL.\nNhìn chung, các gói, quy trình và hàm có nhiều khả năng gặp phải một số vấn đề cần giải quyết vì chúng chứa mã SQL tùy chỉnh hoặc độc quyền nhất. AWS SCT chỉ định lượng thay đổi thủ công cần thiết để chuyển đổi từng loại đối tượng. Nó cũng cung cấp gợi ý về cách điều chỉnh các đối tượng này thành công với lược đồ mục tiêu.\nSau khi hoàn tất việc xem xét báo cáo đánh giá di chuyển cơ sở dữ liệu, hãy nhấp vào Tiếp theo.\nXác định CSDL đích Chỉ định cấu hình cơ sở dữ liệu mục tiêu trong biểu mẫu, Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần vào Secrets Manager và mở DMSDBSecret và tiết lộ mật khẩu. Cũng trên tab đầu ra của Cloudformation Stack, hãy xem mật khẩu SQLSever (giống như trên) rồi nhấp vào Test Connection. Sau khi kết nối được kiểm tra thành công, hãy nhấp vào Finish.\nMở phần này nếu bạn muốn chuyển qua Amazon Aurora (MySQL compatible)\rTham số Giá trị Target Database Engine Amazon Aurora (MySQL compatible) not the default Connection Name (if there) Aurora MySQL Target Server Name - bạn có thể tìm thấy mục này trên Cloudformation \u0026gt; cfn \u0026gt; Output hoặc bạn có thể vào RDS trong bảng điều khiển AWS và tìm máy MySQLTarget Server Port 3306 User Name dbadmin Password See Cloudformation Output tab \u0026amp; DMSDBSecretP or look it up in AWS Secrets Manager. Use SSL Unchecked Store Password Checked MySQL Driver Path C:\\Users\\Administrator\\Desktop\\DMS Workshop\\JDBC\\mysql-connector-j-8.3.0.jar Expand if you are convert to Amazon Aurora (PostgreSQL compatible)\rTham số Giá trị Target Database Engine Amazon Aurora (PostgreSQL compatible) not the default Connection Name (if there) Postgresql Target Server Name TargetAuroraPostgreSQLEndpoint - bạn có thể tìm thấy mục này trên Cloudformation \u0026gt; cfn \u0026gt; Output hoặc bạn có thể vào RDS trong bảng điều khiển AWS và tìm máy Postgresql Target Server Port **5432** Database Name AuroraDB (có phân biệt hoa-thường) User Name **dbadmin** Password Xem tab Output trên Cloudformation \u0026amp; DMSDBSecretP hoặc tìm trên AWS Secrets Manager Use SSL Unchecked Store Password Checked Amazon Aurora Driver Path **C:\\Users\\Administrator\\Desktop\\DMS Workshop\\JDBC\\postgresql-42.7.3.jar** Nếu sao chép và dán không hoạt động, hãy sử dụng nút duyệt đến thư mục DMS Workshop JDBC trên màn hình nền Sau khi nhấn Next và tải siêu dữ liệu, bạn có thể nhận được thông báo cảnh báo: \u0026ldquo;Quá trình tải siêu dữ liệu bị gián đoạn do sự cố tìm nạp dữ liệu.\u0026rdquo; Bạn có thể bỏ qua thông báo này vì nó không ảnh hưởng đến chúng ta trong workshop này. Lưu ý rằng SCT sẽ mất vài phút để phân tích các đối tượng cơ sở dữ liệu\n"
},
{
	"uri": "/vi/5-monitoring/5.2-eventnotifications/",
	"title": "Thông báo sự kiện",
	"tags": [],
	"description": "",
	"content": "AWS DMS tạo ra nhiều sự kiện khác nhau ở cấp độ tác vụ và phiên bản DMS mà bạn có thể đăng ký. AWS DMS sử dụng Amazon Simple Notification Service (Amazon SNS) để cung cấp thông báo khi sự kiện AWS DMS xảy ra.\nĐể tạo DMS event notification, trước tiên bạn phải tạo ****event subscriptions (bản theo dõi sự kiện)**. Để tạo đăng ký sự kiện DMS, hãy truy cập Bảng điều khiển AWS DMS và nhấp vào Event Subscriptions ở cột bên trái. Nhấp vào nút Create event subscription.\nTrên trang create event subscription, hãy cung cấp tên đăng ký. Sau đó chọn target (mục tiêu) để thông báo. Đối với phòng thí nghiệm này, chúng tôi sẽ sử dụng chủ đề email. Nhập tên chủ đề và địa chỉ email. Vui lòng đảm bảo rằng bạn/nhóm của bạn có quyền truy cập vào địa chỉ email được cung cấp tại đây. AWS DMS/SNS sẽ đẩy thông báo đến email đã cho. Tùy chọn, nếu bạn đã tạo chủ đề, bạn có thể chọn tùy chọn Existing topics (Chủ đề hiện có) và chọn chủ đề từ danh sách.\nĐối với nguồn sự kiện, bạn có thể chọn replication-instance hoặc replication-task. Đối với phòng thí nghiệm này, chúng ta sẽ chọn replication-task. Từ Event categories, chúng ta sẽ chọn All event categories và từ replication tasks, chúng ta sẽ chọn All taks*. Sau đó, gửi tạo sự kiện bằng cách nhấp vào nút Create event subscription.\nSau khi đăng ký sự kiện được tạo, hãy kiểm tra trạng thái và xác minh rằng đăng ký đã chuyển thành Active (đang hoạt động).\nSau khi đăng ký sự kiện được tạo, hãy điều hướng đến Bảng điều khiển đăng ký AWS SNS. Bây giờ, hãy chọn đăng ký do AWS DMS tạo bằng cách xác minh cột chủ đề. Dịch vụ thông báo đơn giản AWS (SNS) sẽ gửi email có liên kết xác nhận đến địa chỉ email bạn đã cung cấp ở bước 2. Trạng thái đăng ký sẽ ở đang chờ xác nhận.\nTại thời điểm này, bạn sẽ cần truy cập email do AWS SNS gửi và Xác nhận đăng ký.\nNgay sau khi nhận được xác nhận, trạng thái đăng ký AWS SNS sẽ thay đổi thành đã xác nhận. Bây giờ bạn đã sẵn sàng nhận thông báo qua email cho các sự kiện AWS DMS.\nĐể kiểm tra thông báo sự kiện, hãy tiếp tục và thực hiện một số hành động trên phiên bản sao chép DMS. Ví dụ: tạo phiên bản sao chép mới/khởi động lại phiên bản/thay đổi lớp phiên bản sao chép, v.v. Để xác minh các sự kiện DMS được tạo cho các hoạt động này, trên bảng điều khiển DMS, hãy chọn Sự kiện từ cột bên trái. Như trong phòng thí nghiệm này, chúng tôi đã tạo thông báo sự kiện ở cấp độ phiên bản sao chép, bạn sẽ nhận được email cho tất cả các sự kiện thuộc loại phiên bản sao chép.\nĐây là ví dụ về email thông báo sự kiện DMS. Nếu bạn đang sử dụng địa chỉ email cá nhân nhưng không thấy email đến hộp thư đến, hãy kiểm tra xem email có được gửi đến thư mục thư rác không. Khi bạn đang sử dụng địa chỉ email công ty, hãy đảm bảo rằng tường lửa không chặn các thông báo này.\nBạn có thể lặp lại các bước trên để tạo một đăng ký sự kiện khác để nhận thông báo về sự kiện tác vụ DMS.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.1-memorypressure/6.1.2-troubleshootingsteps/",
	"title": "Troubleshooting Steps",
	"tags": [],
	"description": "",
	"content": "Bất kể nguyên nhân gây ra lỗi là gì, quá trình khắc phục sự cố nên thực hiện theo các bước dưới đây:\nLàm mới trang DMS tasks \u0026amp; xác minh trạng thái nhiệm vụ DMS. Nếu nhiệm vụ ở trạng thái Failed (Thất bại), điều đó có nghĩa là DMS đã dừng xử lý nhiệm vụ và dừng lại do lỗi.\nKhi nhiệm vụ ở trạng thái Failed, hãy xác minh xem có bất kỳ thông báo nào được gửi bởi nhiệm vụ DMS không. Bạn có thể xem thông báo này trong mục Thông báo lỗi cuối cùng trên trang DMS tasks. Trong trường hợp này, rất rõ ràng là nhiệm vụ bị lỗi do sự cố hết bộ nhớ.\nBây giờ, để khắc phục sự cố hết bộ nhớ, hãy điều hướng đến trang DMS replication instance và chuyển sang tab CloudWatch metrics. Xem lại số liệu cụ thể cho Memory \u0026amp; Swap Usage (Sử dụng bộ nhớ \u0026amp; hoán đổi).\nTrong ảnh chụp màn hình ở trên, chúng ta có thể thấy rõ sự sụt giảm bộ nhớ có thể giải phóng và sự gia tăng mức sử dụng swap vào thời điểm xảy ra lỗi tác vụ. Các số liệu của CloudWatch được tính trung bình là 60 giây. Do đó, bạn có thể không thấy bộ nhớ giảm hoàn toàn xuống 0.\nKhi tác vụ DMS dừng hẳn, bạn có thể thấy thông báo bên dưới trong log tác vụ DMS:\n2021-11-10T23:58:14 [AT_GLOBAL ]I: Closing log file at Wed Nov 10 23:58:14 2021 (at_logger.c:2548) Tuy nhiên, khi tác vụ không thành công do áp lực bộ nhớ, DMS không có thời gian để dừng tác vụ và ghi log một cách sạch sẽ. Do đó, nếu bạn tham khảo log tác vụ DMS trong các tình huống này, bạn có thể không tìm thấy bất kỳ thông tin hữu ích nào để khắc phục sự cố.\nTrong trường hợp áp lực bộ nhớ trên Trình sao chép DMS, bạn cũng có thể muốn xác minh có bao nhiêu tác vụ DMS đang chạy trên phiên bản cụ thể. Để xác minh điều này, hãy điều hướng đến trang DMS replication instance, ở trên cùng bên phải, bạn sẽ thấy phần có tên là Tác vụ di chuyển liên quan. Để có danh sách tất cả các tác vụ DMS đang chạy trên phiên bản đó, hãy chuyển sang tab Tác vụ di chuyển. Tại phần này, bạn có thể xem lại danh sách tác vụ cùng trạng thái của chúng.\n"
},
{
	"uri": "/vi/7-cleanup/7.2-deletedmstask/",
	"title": "Xóa Database Migration Task",
	"tags": [],
	"description": "",
	"content": " Đi đến Bảng điều khiển DMS.\nTrên menu bên trái, nhấp vào Database migration tasks và chọn các nhiệm vụ di chuyển mà bạn đã tạo từng cái một nếu bạn đã tạo nhiều cái.\nNhấp vào nút Actions ở phía bên phải, sau đó chọn Stop.\nXác nhận rằng bạn muốn dừng nhiệm vụ di chuyển.\nSau khi trạng thái của các nhiệm vụ di chuyển thay đổi thành Stopped, hãy nhấp vào nút Actions một lần nữa, sau đó chọn Delete.\nXác nhận rằng bạn muốn xóa nhiệm vụ di chuyển.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.1-configtarget/c-aurorapostgres/",
	"title": "Aurora (PostgresSQL compatible) target",
	"tags": [],
	"description": "",
	"content": " Mở pgAdmin từ trong thanh tác vụ máy chủ EC2 ở cuối màn hình (tìm con voi), và nhấp vào đó/mở nó. Đóng cảnh báo về phiên bản pgAdmin mới nếu nó bật lên. Lưu ý thứ tự các biểu tượng trên phiên bản của bạn có thể khác với hình ảnh bên dưới.\nNhấp vào nút Thêm máy chủ \u0026gt; Máy chủ mới hoặc trên máy chủ Word trong ngăn bên trái, sau đó nhấp chuột phải và tô sáng Register, sau đó tô sáng Server và tạo kết nối cơ sở dữ liệu mới cho cơ sở dữ liệu Aurora PostgreSQL mục tiêu bằng các giá trị sau. Bạn sẽ cần hoàn thành tab General và tab Connection riêng biệt. Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần vào Secrets Manager và mở DMSDBSecret và hiển thị mật khẩu. Nó cũng nằm trên tab Output của Cloudformation Stack thuộc bài thực hành:\nTham số Giá trị General -\u0026gt; Name Target Aurora RDS (PostgreSQL) Connection -\u0026gt; Host Name/Address \u0026lt; TargetAuroraPostgreSQLEndpoint \u0026gt; bạn có thể tìm thấy điều này trên Cloudformation \u0026gt; stack \u0026gt; tab đầu ra hoặc bạn có thể vào RDS trong bảng điều khiển AWS và tìm máy CSDL đích Postgresql Connection -\u0026gt; Port 5432 Connection -\u0026gt; Maintenance Database AuroraDB Connection -\u0026gt; Username dbadmin Connection -\u0026gt; Password See Cloudformation Output tab \u0026amp; DMSDBSecretP or look it up in AWS Secrets Manager for Postgresql Connection -\u0026gt; Save Password Check or turn on/slide on Sau đó, bạn có thể nhấp vào Save và nó sẽ kết nối bạn.\nNhấp chuột phải vào cơ sở dữ liệu AuroraDB từ menu bên trái, sau đó chọn Query Tool (Công cụ truy vấn). Lưu ý: bạn có thể nhấp vào danh sách các đối tượng ở bên trái để xem các bảng đã chuyển đổi nếu muốn nhưng không bắt buộc.\nTrong bước này, bạn sẽ xóa ràng buộc khóa ngoại khỏi cơ sở dữ liệu mục tiêu để tải đầy đủ xảy ra vì DMS không nhận biết được các ràng buộc:\nTrong bước này, bạn sẽ xóa ràng buộc khóa ngoại khỏi cơ sở dữ liệu mục tiêu. Bước này thay đổi tùy theo cơ sở dữ liệu nguồn, vì vậy hãy tìm cơ sở dữ liệu nguồn của bạn bên dưới và làm theo các bước một cách phù hợp. Lưu ý rằng bạn không cần chạy các tập lệnh cho các nguồn mà bạn không chọn trước đó:\nFor Oracle Source expand this\rSao chép nội dung của mã sql bên dưới và dán vào trình chỉnh sửa truy vấn trong pgAdmin và thực thi tập lệnh. (lưu ý rằng có một nút sao chép ở góc bên phải để sao chép đoạn mã truy vấn)\nALTER TABLE dms_sample.player DROP CONSTRAINT IF EXISTS sport_team_fk; ALTER TABLE dms_sample.seat DROP CONSTRAINT IF EXISTS s_sport_location_fk; ALTER TABLE dms_sample.seat DROP CONSTRAINT IF EXISTS seat_type_fk; ALTER TABLE dms_sample.sport_division DROP CONSTRAINT IF EXISTS sd_sport_type_fk; ALTER TABLE dms_sample.sport_division DROP CONSTRAINT IF EXISTS sd_sport_league_fk; ALTER TABLE dms_sample.sport_league DROP CONSTRAINT IF EXISTS sl_sport_type_fk; ALTER TABLE dms_sample.sport_team DROP CONSTRAINT IF EXISTS st_sport_type_fk; ALTER TABLE dms_sample.sport_team DROP CONSTRAINT IF EXISTS home_field_fk; ALTER TABLE dms_sample.sporting_event DROP CONSTRAINT IF EXISTS se_sport_type_fk; ALTER TABLE dms_sample.sporting_event DROP CONSTRAINT IF EXISTS se_away_team_id_fk; ALTER TABLE dms_sample.sporting_event DROP CONSTRAINT IF EXISTS se_home_team_id_fk; ALTER TABLE dms_sample.sporting_event DROP CONSTRAINT IF EXISTS se_location_id_fk; ALTER TABLE dms_sample.sporting_event_ticket DROP CONSTRAINT IF EXISTS set_person_id; ALTER TABLE dms_sample.sporting_event_ticket DROP CONSTRAINT IF EXISTS set_sporting_event_fk; ALTER TABLE dms_sample.sporting_event_ticket DROP CONSTRAINT IF EXISTS set_seat_fk; ALTER TABLE dms_sample.ticket_purchase_hist DROP CONSTRAINT IF EXISTS tph_sport_event_tic_id; ALTER TABLE dms_sample.ticket_purchase_hist DROP CONSTRAINT IF EXISTS tph_ticketholder_id; ALTER TABLE dms_sample.ticket_purchase_hist DROP CONSTRAINT IF EXISTS tph_transfer_from_id; Mở phần này nếu bạn sử dụng nguồn dạng MS SQL Server\rTrong PGAdmin, nhấp vào menu Tools (Công cụ) và chọn Query Tool (Công cụ truy vấn).\nTiếp theo, nhấp vào nút mở tệp như hiển thị bên dưới Nếu bạn sử dụng SCT cổ điển thì hãy dán nội dung tương tự như \u0026ldquo;C:\\Users\\Administrator\\AWS Schema Conversion Tool\\Projects\u0026rdquo; vào cửa sổ đường dẫn, nhấn enter/nhấp rồi chọn thư mục có tên bạn đã sử dụng cho dự án của mình khi thiết lập SCT như AWS Schema Conversion Tool SQL Server to Aurora PostgreSQL hoặc Project 1, sau đó chọn thư mục con Amazon Aurora rồi chọn tệp ràng buộc khóa ngoại thả tương tự như ảnh chụp màn hình bên dưới\nNếu bạn sử dụng SC trong bảng điều khiển để chuyển đổi lược đồ, bạn sẽ cần vào pgadmin và xóa thủ công các khóa ngoại khỏi các bảng sau theo cách thủ công - player, seat, sport_division, sport_league, sport_team, sporting_event, sporting_event_ticket \u0026amp; ticket_purchase_hist. Lý do cho việc này là SC tạo một khóa duy nhất ở cuối FK khi SQL Server là nguồn và PG là mục tiêu và SC không tạo tập lệnh xóa FK vào thời điểm này.\nTiếp theo, trong cửa sổ bật lên, bạn sẽ thấy danh sách các tệp tương tự như bước cuối cùng trong mô-đun Schema Convert nếu không thư mục dự án có thể cần được điều chỉnh, hãy chọn tệp ràng buộc khóa ngoại thả tương tự như ảnh chụp màn hình bên dưới\nTiếp theo, nếu cần Sao chép nội dung vào trình soạn thảo truy vấn pgAdmin và điều chỉnh cho tên lược đồ của bạn bằng lệnh tìm kiếm và thay thế.\nTiếp theo, thực thi tập lệnh. Bạn sẽ thấy ràng buộc alter table/drop thành công hoặc ràng buộc skipping không tồn tại, cả hai đều ổn. Lưu ý nếu muốn, bạn có thể kiểm tra một trong các bảng như player và xác nhận không có ràng buộc nào ở đó nhưng không bắt buộc.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/c-aurorapostgres/",
	"title": "Aurora (PostgresSQL compatible) target",
	"tags": [],
	"description": "",
	"content": "In this page, you will inspect the target database after migration.\nOpen pgAdmin4 from within the EC2 server, and then connect to the Target Aurora RDS (PostgreSQL) database connection that you created earlier.\nInspect the migrated data, by querying one of the tables in the target database. For example, the following query should return a table with two rows:\nFor Oracle Source expand this\rSELECT * FROM dms_sample.sport_type; For SQL Server Source expand this\rSELECT * FROM dms_sample_dbo.sport_type; Baseball, and football are the only two sports that are currently listed in this table. In the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target database.\nNow, use the following script to enable the foreign key constraints that we dropped earlier. Copy the content of the file to the Query Editor in pgAdmin 4 then Execute the script. (note there\u0026rsquo;s a copy button to right hand corner to copy the code block)\nFor Oracle Source expand this\rALTER TABLE dms_sample.player ADD CONSTRAINT sport_team_fk FOREIGN KEY (sport_team_id) REFERENCES dms_sample.sport_team(id) ON DELETE CASCADE; ALTER TABLE dms_sample.seat ADD CONSTRAINT seat_type_fk FOREIGN KEY (seat_type) REFERENCES dms_sample.seat_type(name) ON DELETE CASCADE; /* Skipping because of long wait time for the query to complete ALTER TABLE dms_sample.seat ALTER COLUMN sport_location_id TYPE numeric; ALTER TABLE dms_sample.seat ADD CONSTRAINT s_sport_location_fk FOREIGN KEY (sport_location_id) REFERENCES dms_sample.sport_location(id) ON DELETE CASCADE; */ ALTER TABLE dms_sample.sport_division ADD CONSTRAINT sd_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_division ADD CONSTRAINT sd_sport_league_fk FOREIGN KEY (sport_league_short_name) REFERENCES dms_sample.sport_league (short_name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_league ADD CONSTRAINT sl_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name); ALTER TABLE dms_sample.sport_team ADD CONSTRAINT st_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample.sport_team ADD CONSTRAINT home_field_fk FOREIGN KEY (home_field_id) REFERENCES dms_sample.sport_location (id) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample.sport_type (name); ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_away_team_id_fk FOREIGN KEY (away_team_id) REFERENCES dms_sample.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event ADD CONSTRAINT se_home_team_id_fk FOREIGN KEY (home_team_id) REFERENCES dms_sample.sport_team (id); ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_person_id FOREIGN KEY(ticketholder_id) REFERENCES dms_sample.person (ID) ON DELETE CASCADE; ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_sporting_event_fk FOREIGN KEY (sporting_event_id) REFERENCES dms_sample.sporting_event (id) ON DELETE CASCADE; /* Skipping because of long wait time for the query to complete ALTER TABLE dms_sample.sporting_event_ticket ALTER COLUMN sport_location_id TYPE numeric; ALTER TABLE dms_sample.sporting_event_ticket ADD CONSTRAINT set_seat_fk FOREIGN KEY (sport_location_id, seat_level, seat_section, seat_row, seat) REFERENCES dms_sample.seat (sport_location_id, seat_level, seat_section, seat_row, seat); */ ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_sport_event_tic_id FOREIGN KEY (sporting_event_ticket_id) REFERENCES dms_sample.sporting_event_ticket (id) ON DELETE CASCADE; ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_ticketholder_id FOREIGN KEY (purchased_by_id) REFERENCES dms_sample.person (ID); ALTER TABLE dms_sample.ticket_purchase_hist ADD CONSTRAINT tph_transfer_from_id FOREIGN KEY (transferred_from_id) REFERENCES dms_sample.person (ID); For SQL Server Source expand this\rALTER TABLE dms_sample_dbo.player ADD CONSTRAINT sport_team_fk FOREIGN KEY (sport_team_id) REFERENCES dms_sample_dbo.sport_team(id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.seat ADD CONSTRAINT seat_type_fk FOREIGN KEY (seat_type) REFERENCES dms_sample_dbo.seat_type(name) ON DELETE CASCADE; /* Skipping because of long wait time for the query to complete ALTER TABLE dms_sample_dbo.seat ALTER COLUMN sport_location_id TYPE numeric; ALTER TABLE dms_sample_dbo.seat ADD CONSTRAINT s_sport_location_fk FOREIGN KEY (sport_location_id) REFERENCES dms_sample_dbo.sport_location(id) ON DELETE CASCADE; */ ALTER TABLE dms_sample_dbo.sport_division ADD CONSTRAINT sd_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_division ADD CONSTRAINT sd_sport_league_fk FOREIGN KEY (sport_league_short_name) REFERENCES dms_sample_dbo.sport_league (short_name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_league ADD CONSTRAINT sl_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name); ALTER TABLE dms_sample_dbo.sport_team ADD CONSTRAINT st_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sport_team ADD CONSTRAINT home_field_fk FOREIGN KEY (home_field_id) REFERENCES dms_sample_dbo.sport_location (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_sport_type_fk FOREIGN KEY (sport_type_name) REFERENCES dms_sample_dbo.sport_type (name); ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_away_team_id_fk FOREIGN KEY (away_team_id) REFERENCES dms_sample_dbo.sport_team (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event ADD CONSTRAINT se_home_team_id_fk FOREIGN KEY (home_team_id) REFERENCES dms_sample_dbo.sport_team (id); ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_person_id FOREIGN KEY(ticketholder_id) REFERENCES dms_sample_dbo.person (ID) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_sporting_event_fk FOREIGN KEY (sporting_event_id) REFERENCES dms_sample_dbo.sporting_event (id) ON DELETE CASCADE; /* Skipping because of long wait time for the query to complete ALTER TABLE dms_sample_dbo.sporting_event_ticket ALTER COLUMN sport_location_id TYPE numeric; ALTER TABLE dms_sample_dbo.sporting_event_ticket ADD CONSTRAINT set_seat_fk FOREIGN KEY (sport_location_id, seat_level, seat_section, seat_row, seat) REFERENCES dms_sample_dbo.seat (sport_location_id, seat_level, seat_section, seat_row, seat); */ ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_sport_event_tic_id FOREIGN KEY (sporting_event_ticket_id) REFERENCES dms_sample_dbo.sporting_event_ticket (id) ON DELETE CASCADE; ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_ticketholder_id FOREIGN KEY (purchased_by_id) REFERENCES dms_sample_dbo.person (ID); ALTER TABLE dms_sample_dbo.ticket_purchase_hist ADD CONSTRAINT tph_transfer_from_id FOREIGN KEY (transferred_from_id) REFERENCES dms_sample_dbo.person (ID); You should see a query returned successfully window\nBaseball, and football are the only two sports that are currently listed in this table. In the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target database.\n"
},
{
	"uri": "/vi/3-migratetotarget/",
	"title": "Chọn CSDL đích cho DMS",
	"tags": [],
	"description": "",
	"content": "Vậy là bạn đã hoàn tất việc thiết lập phần Bắt đầu và chọn cơ sở dữ liệu nguồn, bạn đã sẵn sàng để di chuyển cơ sở dữ liệu mẫu.\nHướng dẫn từng bước này trình bày cách bạn có thể sử dụng AWS Schema Conversion Tool (AWS SCT) và AWS Database Migration Service (DMS) để chuyển đổi lược đồ và di chuyển dữ liệu sang Amazon Aurora (MySQL/PostgreSQL). Ngoài ra, bạn sẽ sử dụng AWS DMS để liên tục sao chép các thay đổi cơ sở dữ liệu từ cơ sở dữ liệu nguồn sang cơ sở dữ liệu đích.\nMôi trường cho phòng thí nghiệm này bao gồm:\nMột nguồn dữ liệu như SQL Server hoặc Oracle.\nMột máy ảo EC2 đã cài Schema Conversion Tool và các công cụ giao diện người dùng cơ sở dữ liệu khác, làm cơ sở dữ liệu nguồn.\nMột máy Amazon Aurora/RDS được sử dụng làm cơ sở dữ liệu đích.\nMột S3 Bucket nếu bạn chọn S3 làm CSDL đích\n"
},
{
	"uri": "/vi/1-start/1.3-cfnenv/",
	"title": "Chuẩn bị môi trường",
	"tags": [],
	"description": "",
	"content": "Trong bước này, bạn sẽ sử dụng mẫu CloudFormation (CFN) để triển khai cơ sở hạ tầng cho quá trình di chuyển cơ sở dữ liệu này. AWS CloudFormation đơn giản hóa việc cung cấp cơ sở hạ tầng, do đó chúng ta có thể tập trung vào các tác vụ liên quan đến di chuyển dữ liệu.\nMở bảng điều khiển AWS CloudFormation và nhấp vào nút Create Stack.\nChọn Template is ready và chọn Upload a template file làm mẫu nguồn. Sau đó, nhấp vào Choose file và tải lên DMSWorkshop2025.yaml. Nhấp vào Next.\nĐiền thông tin vào các khung trống theo các giá trị dưới bảng sau, rồi nhấp Next.\nTham số Giá trị Stack Name A unique identifier without spaces. MigrationType / Lab Type Database that you want to migrate (Oracle or SQL Server). EC2ServerInstanceType An Amazon EC2 Instance type from the drop-down menu. Recommend using the default value. KeyName The KeyPair (DMSKeypair) that you created in the previous step. RDSInstanceType An Amazon RDS Instance type from the drop-down menu. Recommend using the default value. VpcCIDR The VPC CIDR range in the form x.x.x.x/16. Defaults to 10.20.0.0/16 IAMRoleDmsVpcExist Does your AWS account already have dms-vpc-role(goto IAM\u0026gt;roles \u0026amp; search for \u0026ldquo;dms-vpc\u0026rdquo; to check) if this role is not there template will fail-rollback unless you change default Y to N? Các tài nguyên được tạo ở đây sẽ được thêm tiền tố bằng bất kỳ giá trị nào bạn chỉ định trong Stack name. Vui lòng chỉ định một giá trị duy nhất cho tài khoản của bạn.\nTại trang Stack Options, chấp nhận các giá trị mặc định và nhấp Next.\nTại trang Review, nhấp vào Create stack.\nTại thời điểm này, bạn sẽ được chuyển hướng trở lại bảng điều khiển CloudFormation và sẽ thấy trạng thái là CREATE_IN_PROGRESS. Vui lòng đợi ở đây cho đến khi trạng thái thay đổi thành CREATE_COMPLETE.\nKhi trạng thái CloudFormation thay đổi thành CREATE_COMPLETE, hãy chuyển đến phần Outputs.\nGhi lại các giá trị đầu ra từ môi trường CloudFormation mà bạn đã khởi chạy. Bạn sẽ cần chúng cho phần còn lại của workshop:\n"
},
{
	"uri": "/vi/3-migratetotarget/3.1-schemaconv/3.1.3-schemaconv/",
	"title": "Chuyển đổi lược đồ",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn đã tạo một Dự án di chuyển cơ sở dữ liệu mới, bước tiếp theo là chuyển đổi lược đồ của cơ sở dữ liệu nguồn sang Amazon Aurora MYSQL.\nNhấp vào lược đồ DMS_SAMPLE từ nguồn ở phía bên trái màn hình\n\u0026gt;\u0026gt; Đối với nguồn Oracle, mở phần này\r\u0026gt;\u0026gt; Đối với nguồn SQL Server, mở phần này\rAWS SCT phân tích lược đồ và tạo báo cáo đánh giá di chuyển cơ sở dữ liệu để chuyển đổi sang PostgreSQL. Các mục có dấu chấm than màu đỏ bên cạnh không thể được dịch trực tiếp từ nguồn sang đích. Điều này bao gồm Quy trình được lưu trữ và Gói.\nNhấp vào nút View và chọn chế độ xem Assessment Report. Đối với nguồn Oracle, nó sẽ trông như thế này\nSQL Server sẽ trông tương tự chỉ với SQL Server source ở bên trái màn hình và hệ thống phân cấp cơ sở dữ liệu SQL Server thay vì Oracle. Bạn sẽ muốn nhấp vào dms_sample trong MS SQL Server\nTiếp theo, điều hướng đến tab Action Items trong báo cáo để xem các mục mà công cụ không thể chuyển đổi và tìm hiểu xem bạn cần thực hiện bao nhiêu thay đổi thủ công. Đối với nguồn MS SQL Server, nó sẽ trông như sau:\nĐối với nguồn Oracle, nó sẽ trông như sau:\nAWS SCT phân tích lược đồ và tạo báo cáo đánh giá di chuyển cơ sở dữ liệu để chuyển đổi sang Aurora MySQL. Các mục có dấu màu xanh lam bên cạnh không thể được dịch trực tiếp từ nguồn sang đích. Các mục màu xanh lá cây sẽ được dịch từ nguồn sang đích. Trong trường hợp này, điều này bao gồm các quy trình được lưu trữ. Đối với mỗi sự cố chuyển đổi, bạn có thể hoàn thành một trong các hành động sau:\nSửa đổi các đối tượng trên cơ sở dữ liệu nguồn để AWS SCT có thể chuyển đổi các đối tượng sang cơ sở dữ liệu Aurora MySQL đích.\nThay vì sửa đổi lược đồ nguồn, hãy sửa đổi các tập lệnh mà AWS SCT tạo ra trước khi áp dụng các tập lệnh trên cơ sở dữ liệu Aurora MySQL đích.\nTuy nhiên, để tiết kiệm thời gian, chúng ta bỏ qua việc sửa đổi tất cả các đối tượng không thể tự động chuyển đổi. Thay vào đó, ví dụ, bạn sẽ sửa đổi thủ công một trong các quy trình được lưu trữ từ bên trong SCT để làm cho nó tương thích với cơ sở dữ liệu đích.\nĐiều này được chứng minh trong tiểu mục này.\nNhấp vào **dms_sample** cho lược đồ Oracle hoặc dbo cho SQL Server trong bảng điều khiển bên trái và nhấp vào Convert Schema (Chuyển đổi lược đồ). Đối với Oracle, nó sẽ trông giống như bên dưới và đối với các cơ sở dữ liệu khác thì tương tự ngoại trừ tên cơ sở dữ liệu ở trên cùng và hệ thống phân cấp của nó ở bên trái Bạn có thể được nhắc bằng hộp thoại “Object may already exist in the target database, replace?” (Đối tượng có thể đã tồn tại trong cơ sở dữ liệu đích, thay thế ?) Chọn Yes. Nhấp chuột phải vào lược đồ dms_sample_dbo (SQL Sever) hoặc dms_sample (các DB khác) trong bảng bên phải và nhấp vào Áp dụng cho cơ sở dữ liệu. \u0026gt;\u0026gt; Đối với nguồn Oracle, mở phân này\r\u0026gt;\u0026gt; Đối với nguồn SQL Server, mở phân này\rKhi được nhắc nếu bạn muốn áp dụng lược đồ cho cơ sở dữ liệu, hãy nhấp vào Có. Bạn có thể thấy dấu chấm than trên một số đối tượng cơ sở dữ liệu như chỉ mục và ràng buộc khóa ngoại. Trong phần tiếp theo, chúng ta sẽ xóa cơ sở dữ liệu mục tiêu khóa ngoại.\nTại thời điểm này, lược đồ đã được áp dụng cho cơ sở dữ liệu mục tiêu. Mở rộng lược đồ dms_sample_dbo hoặc dms_sample trên ngăn bên phải để xem các bảng, chế độ xem, quy trình, v.v. Lưu ý: Nếu bạn dùng hệ CSDL MS SQL Server, hãy mở và làm theo đoạn bên dưới vì một số có các bước bổ sung cụ thể là SQL Server yêu cầu các bước bổ sung.\n\u0026gt;\u0026gt; Đối với nguồn SQL Server, hãy mở phần này\rĐể chuẩn bị cho các bước sau này, chúng ta sẽ cần tạo tập lệnh sql cho các ràng buộc mà chúng ta vừa thêm vào mục tiêu. Để thực hiện việc này, trước tiên chúng ta muốn thay đổi cài đặt dự án từ menu Cài đặt ở trên cùng và chọn Cài đặt dự án như được hiển thị bên dưới. Chọn Lưu tập lệnh từ menu bên trái rồi chọn Aurora Postgresql từ menu thả xuống trên cùng cho Nhà cung cấp và chọn Tệp đơn cho mỗi Giai đoạn trong menu thả xuống thứ hai như hiển thị bên dưới.\nBây giờ, hãy nhấp vào mục tiêu Aurora Postgresql bên phải màn hình của bạn để dms_sample_dbo được tô sáng và nhấp chuột phải để menu bật lên hiển thị và chọn Lưu dưới dạng SQL như hiển thị bên dưới. Chọn thư mục dự án và lưu các tệp. Để cửa sổ này mở vì bạn sẽ cần quay lại sau. Nó sẽ trông giống như bên dưới nhưng lưu ý rằng mọi thứ thay đổi khá nhanh ở đây nên nếu không khớp chính xác thì cũng không sao. Bạn đã chuyển đổi thành công lược đồ cơ sở dữ liệu và đối tượng từ nguồn sang Amazon Aurora.\nPhần này chứng minh việc di chuyển lược đồ của cơ sở dữ liệu nguồn sang Amazon Aurora PostgreSQL dễ dàng thế nào nhờ Schema Conversion Tool (công cụ chuyển đổi lược đồ). Tương tự như vậy, bạn đã tìm hiểu cách Công cụ chuyển đổi lược đồ làm nổi bật sự khác biệt giữa các phương ngữ công cụ cơ sở dữ liệu khác nhau và cung cấp cho bạn các mẹo về cách bạn có thể sửa đổi mã thành công khi cần di chuyển thủ tục và các đối tượng cơ sở dữ liệu khác.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.3-createendpoint/",
	"title": "Create DMS Source and Target Endpoints",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn đã có một phiên bản sao, bạn cần tạo các điểm cuối nguồn và đích cho cơ sở dữ liệu mẫu.\nNhấp vào liên kết Điểm cuối ở bên trái, sau đó nhấp vào Tạo điểm cuối ở góc trên bên phải.\nNhập thông tin sau để tạo một điểm cuối cho cơ sở dữ liệu nguồn dms_sample. Xin lưu ý rằng mật khẩu không được cung cấp dưới đây, bạn cần vào Secrets Manager và mở DMSDBSecret để tiết lộ mật khẩu SQL Server (giống như trước nếu bạn đã thực hiện điều này). Nó cũng nằm trong tab đầu ra của Cloudformation Stack đầu tiên dưới mật khẩu, tùy thuộc vào việc bạn sử dụng SQL Server hay Oracle:\nNguồn Oracle: Mở phần này nếu loại cơ sở dữ liệu nguồn của bạn là Oracle\rTham số Giá trị Endpoint Type Source endpoint Select RDS DB instance Checked for Oracle others để trống RDS Instance -SourceOracleDB Endpoint Identifier oracle-source hoặc nhận giá trị tự xuất hiện Descriptive Amazon Resource Name để trống Source Engine oracle Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name \u0026lt; SourceOracleEndpoint Should auto populate \u0026gt; Port 1521 SSL Mode none User Name dbadmin Password See Cloudformation Output tab \u0026amp; DMSDBSecretP or look it up in AWS Secrets Manager for Oracle SID/Service Name ORACLEDB Test endpoint connection -\u0026gt; VPC Replication Instance cfn-DMSReplication or DMSReplication or the one you created if it is ready Microsoft SQL Server source: Expand this if your source DB type is Microsoft SQL Server\rTham số Giá trị Endpoint Type Source endpoint Endpoint Identifier sqlserver-source Descriptive Amazon Resource Name để trống Source Engine Microsoft SQL Server Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name \u0026lt; địa chỉ ip / tên miền của EC2 \u0026gt; - Tìm trong tab Output của CFn stack Port 1433 SSL Mode none User Name dbadmin Password Xem Cloudformation Output tab \u0026amp; DMSDBSecretPSQLServer hoặc tra cứu tróng AWS Secrets Manager Database Name dms_sample Test endpoint connection -\u0026gt; VPC \u0026lt;VPC ID với DMSVpc trong tên - từ bước Thiết Lập Môi Trường\u0026gt; Replication Instance cfn-DMSReplication hoặc DMSReplication - nếu máy đã sẵn sàng Endpoint Settings mở mũi tên, kiểm tra \u0026ldquo;Use Endpoint connection attributes\u0026rdquo; sau đó thêm setUpMsCdcForTables=true vào hộp văn bản Once the information has been entered, select the existing DMS Replcation instance (the one without your initials) and click Run Test. When the status turns to successful, click Create endpoint.\nThực hiện các bước tương tự để tạo một điểm cuối khác cho Cơ sở dữ liệu Aurora RDS đích (dms_sample_dbo hoặc dms_sample tùy thuộc vào cơ sở dữ liệu nguồn của bạn) sử dụng các giá trị sau. Xin lưu ý rằng mật khẩu không được cung cấp bên dưới, bạn cần truy cập vào Secrets Manager và mở DMSDBSecret để tiết lộ mật khẩu SQL Server. Nó cũng có trên tab đầu ra của Cloudformation Stack đầu tiên dưới mật khẩu SQL Server (đúng là đây là mysql nhưng mật khẩu cho sql server và mysql trong trường hợp này là giống nhau):\nCSDL đích Aurora (MySQL): Mở phần này nếu CSDL đích của bạn là Aurora (MySQL)\rTham số Giá trị Endpoint Type Target endpoint Select RDS DB instance Checked for all DB targets Select RDS DB instance -AuroraMySQLInstance Endpoint Identifier aurora-mysql-target Descriptive Amazon Resource Name để trống Target Engine Amazon Aurora MySQL Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name **TargetAuroraMySQLEndpoint** hoặc giá trị sẽ tự điền Port 3306 SSL Mode none User Name **dbadmin** Password Xem Cloudformation Output tab \u0026amp; DMSDBSecretP hoặc tra trong AWS Secrets Manager Test endpoint connection -\u0026gt; VPC Replication Instance **cfn-DMSReplication**, **DMSReplication** hoặc bất kỳ tên nào bạn đã gán cho máy này CSDL đích Aurora (PostgreSQL): Mở phần này nếu CSDL đích của bạn là Aurora (PostgreSQL)\rTham số Giá trị Endpoint Type Target endpoint Select RDS DB instance Checked for all DB targets Select RDS DB instance -AuroraMySQLInstance Endpoint Identifier **aurora-postgresql-target** hoặc giá trị sẽ tự điền Descriptive Amazon Resource Name để trống Target Engine Amazon Aurora PostgreSQL Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name **TargetAuroraPostgreSQLEndpoint** hoặc giá trị sẽ tự điền Port 5432 SSL Mode none User Name **dbadmin** Password Xem Cloudformation Output tab \u0026amp; DMSDBSecretP hoặc tra trong AWS Secrets Manager Test endpoint connection -\u0026gt; VPC \u0026lt;VPC ID với DMSVpc trong tên- từ bước cài đặt môi trường\u0026gt; Replication Instance **cfn-DMSReplication** or **DMSReplication** hoặc một tên bạn đã gán RDS Microsoft SQL Server target: Mở phần này nếu dạng CSDL đích là RDS Microsoft SQL Server:\rTham số Giá trị Endpoint Type Target endpoint Select RDS DB instance Tích tất cả các nguồn Select RDS DB instance -TargetSQLServer Endpoint Identifier **sqlserver-target** hoặc tên được tự động điền Descriptive Amazon Resource Name để trống Target Engine Microsoft SQL Server Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name TargetSqlServerEndpoint (có thể sẽ tự động được điền) Port 1433 SSL Mode none User Name **dbadmin** Password Xem Cloudformation Output tab \u0026amp; DMSDBSecretP hoặc tìm trong AWS Secrets Manager - giá trị kết thúc bằng RDSDBSecret Database Name **dms_sample_target** Test endpoint connection -\u0026gt; VPC \u0026lt;VPC ID with DMSVpc in the name from Environment Setup Step\u0026gt; Replication Instance **cfn-dmsreplication** or just **dmsreplication** RDS Oracle target: Mở phần này nếu dạng CSDL đích là Oracle:\rTham số Giá trị Endpoint Type Target endpoint Select RDS DB instance Đánh dấu mọi CSDL đích Select RDS DB instance \u0026lt; StackName \u0026gt;-TargetOracleDB Endpoint Identifier oracle-target hoặc một giá trị được tự động điền Descriptive Amazon Resource Name (nếu có) để trống Target Engine oracle Access to Endpoint database Radio Button Nhấp/Chọn Provide access information Manually Server Name \u0026lt; TargetOracleEndpoint \u0026gt; should auto populate Port 1521 SSL Mode none User Name **dbadmin** Password Xem Cloudformation Output tab \u0026gt; **DMSDBSecretP** or hoặc tra trong AWS Secrets Manager - Oracle Database Name **TARGETDB** Test endpoint connection -\u0026gt; VPC \u0026lt;VPC ID chứa DMSVpc trong tên - từ bước Cài đặt môi trường\u0026gt; Replication Instance **cfn-dmsreplication** or just **dmsreplication** Amazon S3 Target Mở phần này nếu dạng CSDL đích là Amazon S3:\rTham số Giá trị Endpoint Type Target endpoint Endpoint Identifier **S3-target** Descriptive Amazon Resource Name để trống Target Engine Amazon S3 Server Name \u0026lt; ARN của **dms-migration-role** \u0026gt; Bucket Name \u0026lt; Tên S3 Bucket \u0026gt; Bucket folder **dmstargetfolder** Sau khi nhập thông tin, hãy chọn phiên bản DMS Replcation hiện tại (phiên bản không có chữ viết tắt của bạn) và nhấp vào Run Test. Khi trạng thái chuyển sang thành công, hãy nhấp vào Create endpoint.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.1-memorypressure/6.1.3-resolution/",
	"title": "Giải pháp",
	"tags": [],
	"description": "",
	"content": "Để giải quyết lỗi tác vụ DMS do áp lực bộ nhớ, chúng ta có hai tùy chọn\nTùy chọn 1. Tăng bộ nhớ trên phiên bản sao chép DMS. Bạn có thể tăng bộ nhớ bằng cách sửa đổi phiên bản DMS và chọn lớp phiên bản có bộ nhớ cao hơn. Vui lòng tham khảo tài liệu AWS DMS này để chọn đúng loại phiên bản cho khối lượng công việc của bạn.\nTùy chọn 2. Giảm khối lượng công việc. Trong phòng thí nghiệm này, chúng tôi đã sử dụng loại phiên bản DMS t2.micro cung cấp 1 GB bộ nhớ. Khi bắt đầu phòng thí nghiệm này, để tạo kịch bản này, chúng tôi đã tăng khối lượng công việc bằng cách thêm nhiều bảng và lược đồ hơn. Chúng tôi cũng tăng số lượng bảng để tải song song.\nDo đó, trong trường hợp của chúng tôi, để giảm khối lượng công việc, bạn có thể (a) giảm số lượng tải bảng song song. (b) giảm số lượng lược đồ/bảng. (c) Nếu có nhiều tác vụ chạy song song trên cùng một phiên bản DMS, bạn có thể muốn di chuyển một số tác vụ sang các phiên bản khác.\n"
},
{
	"uri": "/vi/6-troubleshooting/6.2-tableerrors/6.2.3-resolution/",
	"title": "Giải pháp",
	"tags": [],
	"description": "",
	"content": "Bây giờ khi chúng ta biết nguyên nhân gốc rễ của lỗi, giải pháp là phần dễ dàng trong tình huống này. Để giải quyết duplicate key violation (vi phạm khóa trùng lặp) để bạn có thể tải lại dữ liệu từ cơ sở dữ liệu nguồn, bạn sẽ cần kết nối với cơ sở dữ liệu đích và cắt bớt tất cả các bảng đang ở trạng thái Lỗi.\ntruncate table dms_sample.sport_location; truncate table dms_sample.sport_division; truncate table dms_sample.sport_league; truncate table dms_sample.sport_type; truncate table dms_sample.sporting_event; truncate table dms_sample.sporting_event_ticket; truncate table dms_sample.sport_team; truncate table dms_sample.seat_type; truncate table dms_sample.seat; truncate table dms_sample.player; truncate table dms_sample.name_data; Ngoài ra, bạn cũng có thể sửa đổi cài đặt tác vụ DMS TargetTablePrepMode từ DO_NOTHING thành TRUNCATE_BEFORE_LOAD. Theo cách này, DMS có thể cắt bớt bảng mục tiêu trước khi tải dữ liệu.\n"
},
{
	"uri": "/vi/4-serverless/4.2-scaletesting/4.2.3-monitordownscale/",
	"title": "Giám sát sự kiện thu nhỏ quy mô",
	"tags": [],
	"description": "",
	"content": "Không giống như việc tăng quy mô, phản ứng mạnh mẽ với tải tăng trên máy chủ nguồn, việc giảm quy mô diễn ra dần dần hơn. Quá trình giảm quy mô mất một thời gian để điều chỉnh dung lượng, cho phép chuyển đổi mượt mà hơn khi nhu cầu trên hệ thống nguồn giảm.\nSau khi tải CDC đã bắt kịp, thời gian làm mát là trong một giờ, trong đó tác vụ không có máy chủ DMS kích hoạt sự kiện giảm quy mô của DCU.\nTác vụ không có máy chủ DMS hiện được giảm quy mô xuống còn 4 DCU\nĐầu ra của nhật ký CloudWatch cho thấy sao chép không có máy chủ giảm quy mô từ 8 DCU xuống 4 DCU\nBây giờ bạn đã hoàn thành mô-đun không có máy chủ. Nếu bạn đang chạy trong tài khoản của riêng mình, hãy đảm bảo hoàn thành phần dọn dẹp sự kiện Dọn dẹp tài nguyên và môi trường.\n"
},
{
	"uri": "/vi/5-monitoring/5.3-tablestatistics/",
	"title": "Table Statistics",
	"tags": [],
	"description": "",
	"content": "Bảng điều khiển AWS DMS cập nhật thông tin liên quan đến trạng thái của các bảng trong quá trình di chuyển.\nĐể xem số liệu thống kê bảng của tác vụ DMS, hãy truy cập Bảng điều khiển AWS DMS và nhấp vào Replication Tasks ở cột bên trái. Nhấp vào tác vụ từ danh sách ở bên phải.\nTrên trang DMS task, điều hướng đến tab Table statistics. Tại đây, bạn sẽ tìm thấy số liệu thống kê cho tất cả các bảng trong phạm vi Tác vụ DMS.\nMô tả về từng cột trong số liệu thống kê bảng được thảo luận tại đây.\n"
},
{
	"uri": "/vi/7-cleanup/7.3-deleteendpoints/",
	"title": "Xóa các DMS Endpoint",
	"tags": [],
	"description": "",
	"content": " Vẫn trong Database Migration Service console, nhấp vào Endpoints trong menu bên trái\nChọn các endpoint mà bạn đã tạo như một phần của hội thảo. Sau đó, nhấp vào nút Actions ở phía bên phải và chọn Delete.\nXác nhận rằng bạn muốn xóa các endpoint.\nTiếp tục đến trang tiếp theo để xóa phiên bản DMS Replication\u0026hellip;\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.4-createtask/",
	"title": "Create a DMS Migration Task",
	"tags": [],
	"description": "",
	"content": "AWS DMS sử dụng Nhiệm vụ di chuyển cơ sở dữ liệu để di chuyển dữ liệu từ nguồn sang cơ sở dữ liệu đích.\nNhấp vào Nhiệm vụ di chuyển cơ sở dữ liệu trên menu bên trái, sau đó nhấp vào nút Tạo nhiệm vụ ở góc trên bên phải.\nTạo nhiệm vụ di chuyển dữ liệu với các giá trị sau để di chuyển cơ sở dữ liệu **dms_sample**.\nMở phần này nếu loại CSDL đích là Aurora (MySQL)\rTham số Giá trị Mã định danh nhiệm vụ source-to-AuroraMySQL-target Phiên bản sao chép cfn-dmsreplication hoặc chỉ dmsreplication Điểm cuối cơ sở dữ liệu nguồn cơ sở dữ liệu nguồn của bạn (SQL Server, Oracle, v.v.) từ bước trước Điểm cuối cơ sở dữ liệu đích aurora-target hoặc cfn-auroramysqlinstance hoặc bất kỳ tên nào bạn đặt ở bước trước Loại di chuyển Di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra Chế độ dừng CDC Không sử dụng chế độ dừng CDC tùy chỉnh Tạo bảng khôi phục trên DB mục tiêu để trống/không chọn Chế độ chuẩn bị bảng mục tiêu Không làm gì cả (không phải mặc định) Dừng tác vụ sau khi tải đầy đủ hoàn tất Không dừng Cài đặt cột LOB / Bao gồm các cột LOB trong bản sao Chế độ LOB giới hạn Kích thước LOB tối đa (KB) 32 Xác thực dữ liệu Không chọn Nhật ký tác vụ / Bật nhật ký CloudWatch Kiểm tra Bật nhật ký CloudWatch (không phải mặc định) Bối cảnh nhật ký để chọn lấy mức mặc định khi ghi nhật ký Áp dụng tối ưu hóa theo lô nếu hiển thị Bật áp dụng tối ưu hóa theo lô -\u0026gt; Không chọn Mở phần này nếu loại CSDL đích là Aurora (PostgreSQL)\rTham số Giá trị Mã định danh tác vụ source-to-aupg-migration-task Phiên bản sao chép cfn-dmsreplication hoặc chỉ dmsreplication Điểm cuối cơ sở dữ liệu nguồn cơ sở dữ liệu nguồn của bạn (SQL Server, Oracle, v.v.) từ bước trước Điểm cuối cơ sở dữ liệu mục tiêu aurora-target hoặc cfn-aurorapostgresql* hoặc bất kỳ tên nào bạn đặt ở bước trước Loại di chuyển Di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra Chế độ dừng CDC Không sử dụng chế độ dừng CDC tùy chỉnh Tạo bảng khôi phục trên DB mục tiêu để trống/không chọn Chế độ chuẩn bị bảng mục tiêu Không làm gì cả (không phải mặc định) Dừng tác vụ sau khi tải đầy đủ hoàn tất Không dừng Cài đặt cột LOB / Bao gồm các cột LOB trong bản sao Chế độ LOB giới hạn Kích thước LOB tối đa (KB) 32 Xác thực dữ liệu Không được chọn Nhật ký tác vụ / Bật nhật ký CloudWatch Kiểm tra Bật nhật ký CloudWatch (không phải mặc định) Bối cảnh nhật ký để lại trạng thái được chọn, lấy mức mặc định khi ghi nhật ký Áp dụng tối ưu hóa theo lô nếu hiển thị Bật áp dụng tối ưu hóa theo lô -\u0026gt; Không được chọn Mở phần này nếu loại CSDL đích là RDS Microsoft SQL Server:\rTham số Giá trị Mã định danh tác vụ source-to-sqlserver-target Phiên bản sao chép cfn-dmsreplication hoặc chỉ dmsreplication Điểm cuối cơ sở dữ liệu nguồn cơ sở dữ liệu nguồn SQL Server hoặc Oracle, v.v. của bạn từ bước trước Điểm cuối cơ sở dữ liệu mục tiêu sqlserver-target hoặc bất kỳ tên nào bạn đặt ở bước trước Kiểu di chuyển Di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra Chế độ dừng CDC Không sử dụng chế độ dừng CDC tùy chỉnh Tạo bảng khôi phục trên DB mục tiêu để trống/không chọn Chế độ chuẩn bị bảng mục tiêu Không làm gì cả (không phải mặc định) Dừng tác vụ sau khi tải đầy đủ hoàn tất Không dừng Cài đặt cột LOB / Bao gồm các cột LOB trong bản sao Chế độ LOB giới hạn Kích thước LOB tối đa (KB) 32 Xác thực dữ liệu Không chọn Nhật ký tác vụ / Bật nhật ký CloudWatch Kiểm tra Bật nhật ký CloudWatch (không phải mặc định) Bối cảnh nhật ký để chọn lấy mức mặc định khi ghi nhật ký Áp dụng tối ưu hóa theo lô nếu có thể nhìn thấy Bật áp dụng tối ưu hóa theo lô -\u0026gt; Không chọn Mở phần này nếu loại CSDL đích là Oracle:\rTham số Giá trị Mã định danh tác vụ source-to-oracle-target Phiên bản sao chép cfn-dmsreplication hoặc chỉ dmsreplication Điểm cuối cơ sở dữ liệu nguồn cơ sở dữ liệu nguồn SQL Server hoặc Oracle, v.v. của bạn từ bước trước Điểm cuối cơ sở dữ liệu mục tiêu oracle-target hoặc bất kỳ tên nào bạn đặt ở bước trước Loại di chuyển Di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra Chế độ dừng CDC Không sử dụng chế độ dừng CDC tùy chỉnh Tạo bảng khôi phục trên DB mục tiêu để trống/không chọn Chế độ chuẩn bị bảng mục tiêu Không làm gì cả (không phải mặc định) Dừng tác vụ sau khi tải đầy đủ hoàn tất Không dừng Cài đặt cột LOB / Bao gồm các cột LOB trong bản sao chép Chế độ LOB giới hạn Kích thước LOB tối đa (KB) 32 Xác thực dữ liệu Không chọn Nhật ký tác vụ / Enable CloudWatch logs Kiểm tra Bật CloudWatch logs (không phải mặc định) Log Context để nguyên trạng thái đánh dấu, lấy mức mặc định khi ghi nhật ký Tối ưu hóa theo lô áp dụng nếu hiển thị Bật tối ưu hóa theo lô áp dụng -\u0026gt; Bỏ chọn Mở phần này nếu loại CSDL đích là Amazon S3:\rTham số Giá trị Mã định danh tác vụ source-to-s3-target Phiên bản sao chép cfn-dmsreplication hoặc chỉ dmsreplication Điểm cuối cơ sở dữ liệu nguồn cơ sở dữ liệu nguồn SQL Server hoặc Oracle, v.v. của bạn từ bước trước Điểm cuối cơ sở dữ liệu mục tiêu s3-target hoặc bất kỳ tên nào bạn đặt ở bước trước Loại di chuyển Di chuyển dữ liệu hiện có và sao chép các thay đổi đang diễn ra Chế độ dừng CDC Không sử dụng chế độ dừng CDC tùy chỉnh Tạo bảng khôi phục trên DB mục tiêu để trống/bỏ chọn Chế độ chuẩn bị bảng mục tiêu Không làm gì cả (không phải mặc định) Dừng tác vụ sau khi tải đầy đủ hoàn tất Không dừng Cài đặt cột LOB / Bao gồm các cột LOB trong bản sao Chế độ LOB giới hạn Kích thước LOB tối đa (KB) 32 Xác thực dữ liệu Bỏ chọn Nhật ký tác vụ / Bật nhật ký CloudWatch Kiểm tra Bật nhật ký CloudWatch (không phải mặc định) Bối cảnh nhật ký bỏ chọn lấy mức mặc định khi ghi nhật ký Áp dụng tối ưu hóa theo lô nếu hiển thị Bật áp dụng tối ưu hóa theo lô Bỏ chọn Mở rộng phần Ánh xạ bảng và chọn Trình hướng dẫn cho chế độ chỉnh sửa.\nNhấp vào nút Thêm quy tắc lựa chọn mới và nhập các giá trị sau vào biểu mẫu:\nĐối với nguồn Oracle, hãy sử dụng: Tham số Giá trị Sơ đồ DMS_SAMPLE% Tên bảng % Hành động Bao gồm Đối với nguồn SQL Server, hãy sử dụng: Tham số Giá trị Sơ đồ dbo% Tên bảng % Hành động Bao gồm Nếu màn hình Create Task không nhận dạng bất kỳ sơ đồ nào, hãy đảm bảo quay lại màn hình điểm cuối và nhấp vào điểm cuối của bạn. Cuộn xuống cuối trang và nhấp vào Nút Làm mới (⟳) trong phần Schemas. Nếu lược đồ của bạn vẫn không hiển thị trên màn hình Create Task, hãy nhấp vào tab Hướng dẫn và chọn thủ công lược đồ **dbo** và tất cả các bảng.\nTiếp theo, hãy mở rộng phần Quy tắc chuyển đổi và nhấp vào Thêm quy tắc chuyển đổi mới bằng cách sử dụng các giá trị sau:\nĐối với nguồn Oracle, hãy sử dụng:\nQuy tắc 1: Tham số Giá trị Mục tiêu Lược đồ Tên lược đồ DMS_SAMPLE Hành động Viết chữ thường Quy tắc 2: Tham số Giá trị Mục tiêu Bảng Tên lược đồ DMS_SAMPLE Tên bảng % Hành động Viết chữ thường Quy tắc 3: Tham số Giá trị Mục tiêu Cột Tên lược đồ DMS_SAMPLE Tên bảng % Tên cột % Hành động Viết chữ thường Đối với SQL Server Source, hãy sử dụng:\nTham số Giá trị Mục tiêu Sơ đồ Tên sơ đồ % (nếu đích là Microsoft SQL) hoặc %dbo Hành động Đổi tên thành: dms_sample_target Bỏ chọn Bật đánh giá trước khi di chuyển để thu gọn phần này cho hội thảo của chúng tôi vì phần này không có thời gian và không bắt buộc.\nSau khi nhập các giá trị, hãy đảm bảo Cấu hình khởi động tác vụ di chuyển được đặt thành Tự động bắt đầu khi tạo, sau đó nhấp vào Tạo tác vụ.\nTại thời điểm này, tác vụ sẽ bắt đầu chạy và sao chép dữ liệu từ cơ sở dữ liệu **dms_sample** đang chạy trên nguồn của bạn sang phiên bản Amazon Aurora RDS (PostgreSQL). Lưu ý tác vụ DMS sẽ mất một lúc để tạo (Status=createing), sau đó sẽ chuyển sang Status=Ready, tiếp theo là Status=Starting, rồi Status=Running. Bạn có thể sử dụng nút làm mới mũi tên tròn để cập nhật trạng thái cho tác vụ. "
},
{
	"uri": "/vi/7-cleanup/7.4-deleterepinstance/",
	"title": "Delete the DMS Replication Instance",
	"tags": [],
	"description": "",
	"content": " Vẫn trong Database Migration Service console, nhấp vào Replication instances trong menu bên trái\nChọn phiên bản sao chép mà bạn đã tạo như một phần của hội thảo. Sau đó, nhấp vào nút Actions ở phía bên phải và chọn Delete.\nXác nhận rằng bạn muốn xóa máy sao chép.\nTiếp tục đến trang tiếp theo để xóa phần còn lại của tài nguyên\u0026hellip;\n"
},
{
	"uri": "/vi/1-start/1.4-ec2connect/",
	"title": "Kết nối tới máy ảo EC2 và cài đặt Schema Conversion tool",
	"tags": [],
	"description": "",
	"content": "Kết nối tới máy ảo EC2 Có hai phương pháp để kết nối với EC2-Instance:\nThông qua máy khách RDP truyền thống, phức tạp hơn và yêu cầu nhiều bước hơn và\nThông qua AWS Fleet Manager, dễ hơn và yêu cầu ít bước hơn và là phương pháp tiếp cận được chúng tôi đề xuất.\nMặc dù hướng dẫn bên dưới đề cập đến cả hai phương pháp, chúng tôi khuyên bạn nên bắt đầu với phương pháp Fleet Manager được liệt kê đầu tiên.\nNếu bạn đang sử dụng trình duyệt không hỗ trợ sao chép và dá, chúng tôi khuyên bạn nên mở hướng dẫn thực hành trong trình duyệt bên trong cửa sổ RDP bằng fleet manager để có thể sao chép và dán.\nHướng 1: Sử dụng AWS Fleet Manager Mở để xem hướng dẫn\r(Hướng sử dụng RDP truyền thống nằm sau phần này. Bạn có thể chuyển đến bằng cách nhấp vào đây.)\nĐi đến Bảng điều khiển AWS Fleet Manger và nhấp vào phiên bản có tên kết thúc bằng -EC2Instance (nếu bạn bắt đầu trên bảng điều khiển Fleet Manager, hãy nhấp vào Nút Getting Started) sau đó chọn nút Hành động nút và chọn Connect with Remote Desktop như hiển thị trong hình ảnh bên dưới (nếu bạn nhận được thông báo có sự cố hoặc không thấy phiên bản nào, hãy đảm bảo bạn đang ở đúng vùng cho sự kiện của mình)\nChọn nút tùy chọn Key pair sau đó chọn Browse để tìm cặp khóa đã tải xuống máy cục bộ của bạn. Bạn phải tải xuống cặp khóa trước đó (được đề cập trong phần Bắt đầu trong mục tải xuống cặp khóa). Nếu bạn chưa tải xuống, hãy đi đến Key pair trong Bảng điều khiển Amazon EC2 và tải xuống ngay bây giờ.\nNhấp vào Connect.\nNhấp vào No trên thanh bên phải Networks \u0026gt; Network 10 khi được hỏi Do you want to allow your PC to be discoverable\u0026hellip;.? ở bên phải nếu tùy chọn này hiển thị.\nHướng 2: Sử dụng phần mềm kết nối RDP Mở để xem hướng dẫn\r(Chúng tôi sẽ sử dụng Remote Desktop Protocol (RDP) để kết nối với Amazon EC2 Instance.)\nNếu bạn đang sử dụng OS X, bạn có thể tải Microsoft Remote Desktop từ cửa hàng ứng dụng tại đây.\nTruy cập Bảng điều khiển AWS EC2 và nhấp vào Security Groups ở cột bên trái (bạn có thể phải cuộn xuống một chút). Chọn nhóm bảo mật (security group) có đuôi là -InstanceSecurityGroup bằng cách đánh dấu vào hộp rồi nhấp vào Actions \u0026gt; Edit \u0026gt; Inbound như hiển thị bên dưới.\nChỉnh sửa các quy tắc đến cho RDP bằng cách nhấp vào Source và chọn My IP như hiển thị bên dưới. Nhấp vào Save rules (Lưu ý rằng đây là cách thực hành tốt nhất nếu bạn có VPN hoặc mạng phức tạp, bạn có thể cần quay lại và thay đổi thành Anywhere IPv4 0.0.0.0/0 nhưng chúng ta sẽ bắt đầu với điều này)\nĐi đến bảng điều khiển AWS EC2 và nhấp vào Instances ở cột bên trái.\nChọn phiên bản có tên -EC2Instance rồi nhấp vào nút Actions. Nhấp vào Connect.\nĐi đến phần RDP client và nhấp vào Get Password (lấy mật khẩu). Nhấp vào Browse và tải lên tệp khóa riêng tư (đuôi .pem) bạn đã tải xuống trước đó.\nNhấp vào Decrypt Password (Giải mã mật khẩu).\nSao chép mật khẩu đã tạo và lưu đâu đó. Bạn sẽ sử dụng mật khẩu này để kết nối để đăng nhập vào máy ảo EC2.\nNhấp vào Download Remote Desktop File để tải xuống tệp RDP để truy cập máy ảo EC2 này.\nKết nối với máy ảo EC2 bằng máy khách RDP. Cài đặt Schema Conversion Tool Kết nối lại vài máy ảo EC2 mà chúng ta đã sử dụng để chuẩn bị cơ sở dữ liệu nguồn thông qua rdp hoặc Fleet Manager, chúng ta sẽ cài đặt công cụ AWS Schema Conversion trên máy chủ này. Tải xuống tệp và cài đặt sẽ cung cấp cho bạn phiên bản mới nhất của AWS Schema Conversion Tool.\nTrên máy chủ EC2, mở thư mục \u0026ldquo;DMS Workshop\u0026rdquo; trên Desktop. Sau đó, nhấp đúp vào \u0026ldquo;AWS Schema Conversion Tool Download\u0026rdquo; để tải phiên bản mới nhất của phần mềm như hình bên dưới. (Lưu ý: nếu được hỏi có muốn mở tệp này không, hãy nói \u0026ldquo;YES\u0026rdquo;.) Khi quá trình tải xuống hoàn tất, hãy giải nén nội dung (nhấp đúp vào góc dưới bên trái của trình duyệt nơi tải xuống xảy ra hoặc nhấp một lần và chọn Open) nhấp đúp vào tệp gói cài đặt AWS Schema windows và làm theo các bước của trình hướng dẫn cài đặt theo mặc định và hoàn tất cài đặt AWS Schema Conversion Tool bằng cách nhấp vào Finish khi hoàn tất. (giống như hình ảnh bên dưới).\nLưu ý: Nhấp đúp vào Fleet Mgr có thể khá khó khăn. Nhấp một lần và nhấn phím enter với tệp được tô sáng đôi khi sẽ hiệu quả hơn. Nếu bạn thấy Lỗi nén thư mục bật lên, hãy đóng cửa sổ này lại và thử phương pháp nhấp một lần phím enter thay vì nhấp đúp bằng chuột. Ngoài ra, đôi khi trình hướng dẫn cài đặt bị che mất, vì vậy hãy xem nó có nằm trên thanh tác vụ ở dưới cùng không và nhấp vào đó, trông giống như biểu tượng cài đặt Windows ở dưới cùng của màn hình RDP. Nếu bạn vẫn gặp sự cố, hãy hỏi người liên hệ/giảng viên AWS của bạn.\nQuy trình cài đặt mẫu nằm trong các hình ảnh sau:\nKhi trình cài đặt hoàn tất, hộp thoại cài đặt sẽ biến mất. Không có thông báo nào khác.\nSau khi cài đặt hoàn tất, hãy mở Start Menu và khởi chạy AWS Schema Conversion Tool hoặc bạn có thể nhấp đúp vào biểu tượng hộp màu cam SCT trên màn hình nền.\nChấp nhận Điều khoản và Điều kiện (màn hình Terms and Conditions).\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/d-oracle/",
	"title": "Oracle target",
	"tags": [],
	"description": "",
	"content": "In this page, you will inspect the target database after migration.\nGo back to the EC2 instance we used earlier, once connected, open Oracle SQL Developer, and click the green button to add a new connection using the following values:\nParameter Value Connection Name Target Oracle User Name dbadmin Password See Cloudformation Output tab \u0026amp; DMSDBSecretP or look it up in AWS Secrets Manager for Oracle target Save Password Check Hostname \u0026lt; TargetOracle Endpoint (you can find this in Cloudformation Output tab or goto RDS service in console and pick your RDS Oracle Target instance\u0026gt; Port 1521 SID/Service Name TargetDB Inspect the migrated data, by querying one of the tables in the target database. For example, the following query should return a table with two rows:\nBaseball, and football are the only two sports that are currently listed in this table. In the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target database.\n"
},
{
	"uri": "/vi/4-serverless/",
	"title": "Serverless replication",
	"tags": [],
	"description": "",
	"content": "AWS DMS Serverless loại bỏ sự phỏng đoán và gánh nặng vận hành khi quản lý tài nguyên di chuyển bằng cách tự động cung cấp, mở rộng quy mô và tối ưu hóa năng lực. Nó cung cấp tính năng khả dụng cao tích hợp sẵn và mô hình thanh toán theo mức sử dụng, cho phép bạn bắt đầu di chuyển nhanh chóng với sự giám sát tối thiểu trong khi tối ưu hóa chi phí và tăng tính linh hoạt trong hoạt động. Tính năng này cũng loại bỏ nhu cầu thực hiện các tác vụ thủ công như ước tính năng lực, cung cấp, quản lý chi phí và bảo trì công cụ sao chép.\nTrong mô-đun này, chúng tôi sẽ trình bày:\nCách sử dụng tính năng AWS DMS Serverless để di chuyển dữ liệu. Bạn sẽ bắt đầu bằng cách thiết lập DMS Serverless để thực hiện tải đầy đủ và hoạt động CDC.\nSau đó, bạn sẽ tạo một số hoạt động trên cơ sở dữ liệu nguồn để quan sát cách DMS Serverless tự động mở rộng quy mô để đáp ứng khối lượng công việc.\nĐến cuối mô-đun này, bạn sẽ có kinh nghiệm thực tế trong việc định cấu hình và quản lý DMS Serverless để di chuyển dữ liệu hiệu quả và tự động.\nTrước khi tiến hành theo hướng dẫn trong mô-đun này, vui lòng đảm bảo rằng bạn đã hoàn tất tất cả các bước tiên quyết, bao gồm phần Bắt đầu và cấu hình cơ sở dữ liệu nguồn và đích của bạn. Nếu bạn đã bỏ qua bất kỳ mô-đun cơ bản nào trong số này, điều cần thiết là phải quay lại và hoàn tất chúng trước. Việc bỏ qua các điều kiện tiên quyết này có thể dẫn đến các sự cố hoặc thiết lập không đầy đủ trong quá trình di chuyển dữ liệu. Để di chuyển suôn sẻ và thành công, hãy đảm bảo rằng tất cả các cấu hình cần thiết đều được thiết lập bằng cách nhấp vào các liên kết bên dưới.\n"
},
{
	"uri": "/vi/5-monitoring/5.4-tasklogs/",
	"title": "Task Logs",
	"tags": [],
	"description": "",
	"content": "AWS DMS được tích hợp Dịch vụ AWS CloudWatch để ghi lại thông tin tác vụ trong quá trình di chuyển. Bạn có tùy chọn bật ghi log cho từng tác vụ DMS. Sau khi bật, log sẽ liên tục được xuất bản thông qua log cloudWatch.\nĐể xem log tác vụ DMS, hãy truy cập Bảng điều khiển AWS DMS và nhấp vào Nhiệm vụ sao chép ở cột bên trái. Nhấp vào tác vụ từ danh sách ở bên phải. Khi bạn vào trang Nhiệm vụ DMS, hãy tìm nút View logs ở góc trên bên phải. Bạn cũng có thể mở log tác vụ từ tab Overview details trên cùng một trang.\nKhi bạn nhấp vào View logs, một cửa sổ mới trong dịch vụ CloudWatch sẽ mở ra. Theo mặc định, bạn sẽ thấy log mới nhất trên màn hình. Ở cuối trang, bạn sẽ có nút tiếp tục. Khi bạn nhấp vào đó, log sẽ tự động cuộn khi có log mới được tạo.\nĐôi khi bạn có thể cần lọc log để tìm kiếm thông báo cụ thể trong log. Bạn có thể thực hiện bằng cách sử dụng mẫu lọc trong Log events.\nBạn nên luôn bật ghi log tác vụ DMS tại thời điểm tạo. Bạn sẽ cần thêm quyền trên dịch vụ AWS CloudWatch để xem các tác vụ DMS.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/e-s3/",
	"title": "Amazon S3 Target",
	"tags": [],
	"description": "",
	"content": " Go to your target S3 bucket and click on dmstargetfolder. Click on dms_sample_dbo or dms_sample subfolder. Here you will find all the tables that were migrated from the source database.\nGo to the sport_type folder. Click the checkbox on the left of the .CSV object and download the file.\nOpen the CSV file on your computer and note that baseball and football are the only two sports that are currently listed in this table.\nIn the next section you will insert several new records to the source database with information about other sport types. DMS will automatically replicate these new records from the source database to the target S3 bucket.\n"
},
{
	"uri": "/vi/5-monitoring/5.5-taskstatus/",
	"title": "Các trạng thái của tác vụ",
	"tags": [],
	"description": "",
	"content": "AWS DMS làm mới trạng thái tác vụ khi tác vụ chuyển từ trạng thái này sang trạng thái khác. Để xem trạng thái của tác vụ DMS, hãy vào Bảng điều khiển AWS DMS và nhấp vào DMS Migration Tasks ở cột bên trái. Ở bên phải, bạn sẽ thấy danh sách tất cả các tác vụ DMS cùng trạng thái hiện tại của chúng.\nBảng sau đây hiển thị các trạng thái có thể có của một tác vụ:\nCreating (Đang tạo): AWS DMS đang tạo tác vụ.\nRunning (Đang chạy): Tác vụ đang thực hiện các nhiệm vụ di chuyển đã chỉ định.\nStopped (Đã dừng): Tác vụ đã dừng.\nStopping (Đang dừng): Tác vụ đang bị dừng. Thông thường, đây là dấu hiệu cho thấy người dùng đã can thiệp vào tác vụ.\nDeleting (Đang xóa): Tác vụ đang bị xóa, thường là do yêu cầu người dùng can thiệp.\nFailed (Đã thất bại): Tác vụ đã thất bại. Để biết thêm thông tin, hãy xem tệp nhật ký tác vụ.\nStarting (Đang bắt đầu): Tác vụ đang kết nối với phiên bản sao chép và với điểm cuối nguồn và đích. Bất kỳ bộ lọc và chuyển đổi nào đang được áp dụng.\nReady (Sẵn sàng): Nhiệm vụ đã sẵn sàng để chạy. Trạng thái này thường theo sau trạng thái \u0026ldquo;created\u0026rdquo;.\nModifying (Đang sửa): Nhiệm vụ đang được sửa đổi, thường là do hành động của người dùng đã sửa đổi cài đặt nhiệm vụ.\nMoving (Đang di chuyển): Nhiệm vụ đang trong quá trình được di chuyển đến một phiên bản sao chép khác. Bản sao chép vẫn ở trạng thái này cho đến khi quá trình di chuyển hoàn tất. Xóa nhiệm vụ là thao tác duy nhất được phép trên nhiệm vụ sao chép trong khi nó đang được di chuyển.\nFailed-move (Di chuyển thất bại): Việc di chuyển nhiệm vụ đã không thành công vì bất kỳ lý do nào, chẳng hạn như không có đủ dung lượng lưu trữ trên phiên bản sao chép mục tiêu. Khi một nhiệm vụ sao chép ở trạng thái này, nó có thể được bắt đầu, sửa đổi, di chuyển hoặc xóa.\n"
},
{
	"uri": "/vi/7-cleanup/7.5-deletecfnstack/",
	"title": "Delete the CloudFormation Stack",
	"tags": [],
	"description": "",
	"content": " Tiếp theo, hãy vào CloudFormation console và nhấp vào chọn CloudFormation Stack mà bạn đã tạo trong hội thảo.\nNhấp vào nút Delete ở góc trên bên phải. CloudFormation sẽ tự động xóa tất cả các tài nguyên mà nó đã khởi chạy trước đó. Quá trình này có thể mất tới 15 phút.\nXác nhận rằng bạn muốn xóa stack.\nKiểm tra CloudFormation console để đảm bảo stack mà bạn đã chọn đã bị xóa.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.5-inspect/",
	"title": "Inspect the Content of Target Database",
	"tags": [],
	"description": "",
	"content": "Chúng ta sử dụng các phương pháp khác nhau để kiểm tra cơ sở dữ liệu đích của bạn, tùy thuộc vào lược đồ của nó:\nMicrosoft SQL Server target\rAurora (MySQL compatible) target\rAurora (PostgresSQL compatible) target\rOracle target\rAmazon S3 Target\r"
},
{
	"uri": "/vi/5-monitoring/",
	"title": "Theo dõi DMS Migrations",
	"tags": [],
	"description": "",
	"content": "Giám sát là một phần quan trọng trong việc duy trì độ tin cậy, tính khả dụng và hiệu suất của AWS DMS và các giải pháp AWS của bạn. AWS cung cấp một số công cụ để giám sát các tác vụ và tài nguyên AWS DMS của bạn và ứng phó với các sự cố tiềm ẩn. Phần này sẽ trình bày cách bạn có thể sử dụng các công cụ đó với AWS Database Migration Service (DMS).\n"
},
{
	"uri": "/vi/7-cleanup/7.6-deletebucketandrole/",
	"title": "Delete S3 Bucket and IAM Roles",
	"tags": [],
	"description": "",
	"content": "\rPhần này chỉ nên hoàn thành nếu bạn đã thực hiện phòng thí nghiệm mục tiêu Amazon S3. Bạn có thể DỪNG đọc ngay bây giờ nếu bạn đã hoàn thành bất kỳ phòng thí nghiệm nào khác trong Hội thảo di chuyển cơ sở dữ liệu vì bạn đã hoàn thành việc xóa tài nguyên cho các phòng thí nghiệm đó ở giai đoạn này.\nĐiều hướng đến bảng điều khiển Amazon S3 và đi đến thùng mà bạn đã tạo như một phần của phòng thí nghiệm này.\nNhấp vào hộp kiểm bên trái **dmstargetfolder**. Nhấp vào nút Hành động và chọn Empty.\nQuay lại danh sách thùng và nhấp vào hộp kiểm bên cạnh thùng S3 mà bạn đã tạo trước đó. Nhấp vào Delete.\nNhập tên thùng của bạn, sau đó nhấp vào Delete.\nPhòng thí nghiệm sử dụng **DMS-VPC-ROLE** cần thiết để DMS hoạt động nói chung. Chúng tôi khuyên bạn nên giữ nguyên vai trò này vì không mất phí cho Vai trò IAM và DMS sẽ cần vai trò này nếu không có. Nếu bạn có bất kỳ câu hỏi hoặc thắc mắc nào, vui lòng liên hệ với bộ phận liên hệ hoặc bộ phận hỗ trợ của AWS.\nBây giờ, bạn cần xóa chính sách IAM mà bạn đã tạo trước đó. Lưu ý: bạn có thể giữ nguyên vì không mất phí cho chính sách IAM nhưng thùng được sử dụng đã bị xóa. Tùy thuộc vào bạn. Nếu bạn muốn giữ nguyên thì bạn đã hoàn thành phần này. Nếu bạn muốn xóa, hãy vào bảng điều khiển IAM, sau đó vào Chính sách từ ngăn điều hướng. Trong thanh tìm kiếm, nhập **DMS-LAB-S3-Access-Policy**.\nNhấp vào hộp kiểm bên cạnh **DMS-LAB-S3-Access-Policy**. Sau đó, nhấp vào Policy Actions và chọn Delete.\nChọn Delete trên lời nhắc mới.\nBạn đã hoàn tất việc xóa các tài nguyên AWS mà bạn đã tạo trước đó trong tài khoản của mình.\n"
},
{
	"uri": "/vi/3-migratetotarget/3.2-migration/3.2.6-replicatechange/",
	"title": "Replicate Data Changes",
	"tags": [],
	"description": "",
	"content": "Bây giờ bạn sẽ mô phỏng một giao dịch đến cơ sở dữ liệu nguồn bằng cách cập nhật bảng sport_type. Dịch vụ Di chuyển Cơ sở Dữ liệu sẽ tự động phát hiện và sao chép những thay đổi này đến cơ sở dữ liệu đích.\nĐối với Nguồn Oracle:\nMở rộng phần này nếu loại cơ sở dữ liệu nguồn của bạn là Oracle\rTrên phiên EC2 mà bạn đã kết nối RDP, sử dụng Oracle SQL Developer để kết nối với RDS Oracle nguồn.\nMở một cửa sổ Truy vấn Mới và thực hiện câu lệnh sau để chèn 5 môn thể thao mới vào bảng sport_type:\nINSERT ALL INTO dms_sample.sport_type (name,description) VALUES (\u0026#39;hockey\u0026#39;, \u0026#39;A sport in which two teams play against each other by trying to more a puck into the opponents goal using a hockey stick\u0026#39;) INTO dms_sample.sport_type (name,description) VALUES (\u0026#39;basketball\u0026#39;, \u0026#39;A sport in which two teams of five players each that oppose one another shoot a basketball through the defenders hoop\u0026#39;) INTO dms_sample.sport_type (name,description) VALUES (\u0026#39;soccer\u0026#39;,\u0026#39;A sport played with a spherical ball between two teams of eleven players\u0026#39;) INTO dms_sample.sport_type (name,description) VALUES (\u0026#39;volleyball\u0026#39;,\u0026#39;two teams of six players are separated by a net and each team tries to score by grounding a ball on the others court\u0026#39;) INTO dms_sample.sport_type (name,description) VALUES (\u0026#39;cricket\u0026#39;,\u0026#39;A bat-and-ball game between two teams of eleven players on a field with a wicket at each end\u0026#39;) SELECT * FROM dual; COMMIT; SELECT * FROM dms_sample.sport_type; Expand this if your source DB type is Microsoft SQL Server\rĐối với SQL Server Source:\nSử dụng Microsoft SQL Server Management Studio để kết nối với Source SQL Server trên phiên bản EC2.\nMở cửa sổ New Query và thực thi câu lệnh sau để chèn 5 môn thể thao mới vào bảng sport_type:\nUSE [dms_sample] GO INSERT INTO [dbo].[sport_type] ([name] ,[description]) VALUES (\u0026#39;hockey\u0026#39;, \u0026#39;A sport in which two teams play against each other by trying to more a puck into the opponents goal using a hockey stick\u0026#39;); INSERT INTO [dbo].[sport_type] ([name] ,[description]) VALUES (\u0026#39;basketball\u0026#39;, \u0026#39;A sport in which two teams of five players each that oppose one another shoot a basketball through the defenders hoop\u0026#39;); INSERT INTO [dbo].[sport_type] ([name] ,[description]) VALUES (\u0026#39;soccer\u0026#39;,\u0026#39;A sport played with a spherical ball between two teams of eleven players\u0026#39;); INSERT INTO [dbo].[sport_type] ([name] ,[description]) VALUES (\u0026#39;volleyball\u0026#39;,\u0026#39;two teams of six players are separated by a net and each team tries to score by grounding a ball on the others court\u0026#39;); INSERT INTO [dbo].[sport_type] ([name] ,[description]) VALUES (\u0026#39;cricket\u0026#39;,\u0026#39;A bat-and-ball game between two teams of eleven players on a field with a wicket at each end\u0026#39;); GO Lặp lại các bước từ màn hình trước đã chọn nội dung của bảng sport_type trong cơ sở dữ liệu đích.\nCác bản ghi mới mà bạn đã thêm cho basketball, cricket, hockey, soccer, volleyball vào bảng sports_type trong cơ sở dữ liệu nguồn đã được sao chép vào cơ sở dữ liệu dms_sample của bạn. Bạn có thể điều tra thêm số lần chèn, xóa, cập nhật và DDL bằng cách xem số liệu thống kê Bảng của các tác vụ di chuyển Cơ sở dữ liệu của bạn trong bảng điều khiển AWS.\n"
},
{
	"uri": "/vi/5-monitoring/5.6-runbook/",
	"title": "RunBook",
	"tags": [],
	"description": "",
	"content": "Sổ tay hướng dẫn AWS DMS Monitoring cung cấp hướng dẫn chi tiết về giải pháp giám sát tự động được phát triển cho AWS Database Migration Service (DMS). Giải pháp được triển khai bằng Amazon Lambda với Python và AWS SDK, tự động hóa một số tác vụ giám sát và cảnh báo quan trọng cho toàn bộ nhóm tài nguyên DMS. Trọng tâm chính là tạo thiết lập giám sát và cảnh báo hợp nhất để đảm bảo tình trạng và hiệu suất của các phiên bản và tác vụ sao chép DMS.\nSổ tay hướng dẫn này triển khai các hoạt động giám sát sau:\nBảng điều khiển Amazon CloudWatch tập trung để xem xét mức tiêu thụ tài nguyên (ví dụ: CPU, Bộ nhớ, Sử dụng lưu trữ hoặc Sử dụng dung lượng cho DMS Serverless, v.v.) của tất cả các Phiên bản AWS DMS Classic.\nBảng điều khiển Amazon CloudWatch tập trung để xem xét các Số liệu CDC (Ghi lại dữ liệu thay đổi) như Độ trễ nguồn, Độ trễ mục tiêu, v.v. từ tất cả các tác vụ DMS.\nThiết lập thông báo sự kiện AWS DMS (Bao gồm thay đổi trạng thái như dừng, bắt đầu, lỗi, v.v. cho tất cả các phiên bản và tác vụ DMS) cho tất cả các phiên bản và tác vụ AWS DMS cổ điển.\nThiết lập cảnh báo Amazon CloudWatch hàng giờ cho Lỗi và Cảnh báo trong tất cả các lần di chuyển AWS DMS bao gồm AWS DMS Classic, di chuyển đồng nhất hoặc DMS Serverless. Người dùng có thể tùy chỉnh tần suất thông báo.\nThiết lập cảnh báo cho các phiên bản AWS DMS để thông báo khi ngưỡng vi phạm.\nThiết lập cảnh báo về các biện pháp thực hành tốt nhất của AWS DMS cho các phiên bản DMS và tác vụ DMS. Ví dụ: tập lệnh sẽ cảnh báo nếu có phiên bản DMS được bật quyền truy cập công khai hoặc phiên bản DMS cổ điển chưa sử dụng hoặc tác vụ DMS được bật ghi nhật ký gỡ lỗi.\nTất cả các hoạt động giám sát do giải pháp đặt đều có thể tùy chỉnh hoàn toàn, trong đó người dùng có thể chọn số liệu CloudWatch hoặc lọc nhật ký tác vụ cho các sự kiện đặc biệt.\nTriển khai giải pháp một cú nhấp chuột bằng mẫu AWS CloudFormation này: Triển khai AWS Database Migration Monitoring Runbook\nLàm theo hướng dẫn từng bước AWS Database Migration Monitoring Runbook github.\n"
},
{
	"uri": "/vi/6-troubleshooting/",
	"title": "Xử lý sự cố với AWS DMS",
	"tags": [],
	"description": "",
	"content": "Xử lý sự cố với AWS DMS Mô-đun thực hành này được thiết kế để cung cấp cho bạn kinh nghiệm thực tế về xử lý sự cố nhiệm vụ DMS. Mỗi kịch bản trong bài thực hành này khác với các kịch bản khác và bạn có thể chọn chúng theo bất kỳ trình tự nào.\n"
},
{
	"uri": "/vi/7-cleanup/",
	"title": "Dọn dẹp môi trường",
	"tags": [],
	"description": "",
	"content": "Dọn dẹp môi trường Sau khi hoàn tất workshop về di chuyển cơ sở dữ liệu, bạn cần xóa các tài nguyên AWS mà bạn đã tạo trong tài khoản của mình để ngừng phát sinh chi phí. Phần này hướng dẫn bạn các bước để xóa các tài nguyên này…\n"
},
{
	"uri": "/vi/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vi/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]